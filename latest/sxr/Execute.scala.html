<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>Execute.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2010 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> <a href="ErrorHandling.scala.html#12713" title="object sbt.ErrorHandling">ErrorHandling</a>.wideConvert
<span class="keyword">import</span> <a href="Types.scala.html#12563" title="object sbt.Types">Types</a>._
<span class="keyword">import</span> <a href="#12081" title="object sbt.Execute">Execute</a>._

<span class="keyword">import</span> scala.annotation.tailrec
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span>mutable, JavaConversions<span class="delimiter">}</span>
<span class="keyword">import</span> mutable.Map

<span class="keyword">object</span> <a title="object sbt.Execute" id="12081">Execute</a>
<span title="ScalaObject" class="delimiter">{</span>
	<span class="keyword">trait</span> <a title="trait Part1of2K[M[_[_],_], A[_]] extends java.lang.Object" id="334112">Part1of2K</a><span class="delimiter">[</span><a title="[_[_], _]&gt;: Nothing &lt;: Any" id="334113">M</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="2144805">_</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2144807">_</a><span class="delimiter">]</span>, <a title="&gt;: Nothing &lt;: Any" id="2144806">_</a><span class="delimiter">]</span>, <a title="[_]&gt;: Nothing &lt;: Any" id="334114">A</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2144808">_</a><span class="delimiter">]</span><span class="delimiter">]</span> <span title="java.lang.Object" class="delimiter">{</span> <span class="keyword">type</span> <a title="[T]M[A,T]" id="2144803">Apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2144804">T</a><span class="delimiter">]</span> = <a href="#334113" title="M[A,T]">M</a><span class="delimiter">[</span>A, T<span class="delimiter">]</span> <span class="delimiter">}</span>
	<span class="keyword">type</span> <a title="[A[_]]sbt.Execute.Part1of2K[sbt.Node,A]" id="334115">NodeT</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="334116">A</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2144810">_</a><span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#334112" title="sbt.Execute.Part1of2K[sbt.Node,A]">Part1of2K</a><span class="delimiter">[</span>Node, A<span class="delimiter">]</span>
	
	<span class="keyword">def</span> <a title="[A, B]=&gt; scala.collection.mutable.Map[A,B]" id="334117">idMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="334120">A</a>,<a title="&gt;: Nothing &lt;: Any" id="334121">B</a><span class="delimiter">]</span>: <span title="scala.collection.mutable.Map[A,B]">Map</span><span class="delimiter">[</span>A, B<span class="delimiter">]</span> = <span title="object scala.collection.JavaConversions">JavaConversions</span>.<span title="(m: java.util.Map[A,B])scala.collection.mutable.Map[A,B]">asScalaMap</span><span class="delimiter">(</span><span title="java.util.IdentityHashMap[A,B]" class="keyword">new</span> java.util.<span title="java.util.IdentityHashMap[A,B]">IdentityHashMap</span><span class="delimiter">[</span>A,B<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="[A[_], B[_]]=&gt; sbt.PMap[A,B]" id="334122">pMap</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="334125">A</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2145043">_</a><span class="delimiter">]</span>, <a title="[_]&gt;: Nothing &lt;: Any" id="334126">B</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2145044">_</a><span class="delimiter">]</span><span class="delimiter">]</span>: <a href="PMap.scala.html#12473" title="sbt.PMap[A,B]">PMap</a><span class="delimiter">[</span>A,B<span class="delimiter">]</span> = <span title="sbt.DelegatingPMap[A,B]" class="keyword">new</span> <a href="PMap.scala.html#12483" title="sbt.DelegatingPMap[A,B]">DelegatingPMap</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">(</span><a href="#334117" title="scala.collection.mutable.Map[A[_],B[_]]">idMap</a><span class="delimiter">)</span>
	<span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(p: =&gt; Unit)sbt.Completed" id="334127">completed</a><span class="delimiter">(</span><a title="=&gt; Unit" id="2145113">p</a>: =&gt; Unit<span class="delimiter">)</span>: <a href="#12083" title="sbt.Completed">Completed</a> = <a href="#2145115" title="java.lang.Object with sbt.Completed" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with sbt.Completed" id="2145115">Completed</a> <span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="()Unit" id="2145119">process</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#2145113" title="=&gt; Unit">p</a> <span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="[A[_]]=&gt; sbt.Triggers[A]" id="334128">noTriggers</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="334130">A</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2145126">_</a><span class="delimiter">]</span><span class="delimiter">]</span> = <span title="sbt.Triggers[A]" class="keyword">new</span> <a href="#12086" title="sbt.Triggers[A]">Triggers</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">(</span><span title="object scala.collection.mutable.Map">Map</span>.<span title="scala.collection.mutable.Map[A[_],Nothing]">empty</span>, <span title="object scala.collection.mutable.Map">Map</span>.<span title="scala.collection.mutable.Map[A[_],Nothing]">empty</span>, <a href="TypeFunctions.scala.html#13426" title="sbt.RMap[A,sbt.Result] =&gt; sbt.RMap[A,sbt.Result]">idFun</a><span class="delimiter">)</span>
<span class="delimiter">}</span>
<span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait Completed extends java.lang.Object" id="12083">Completed</a> <span title="java.lang.Object" class="delimiter">{</span>
	<span class="keyword">def</span> <a title="()Unit" id="390809">process</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span>
<span class="delimiter">}</span>
<span class="keyword">trait</span> <a title="trait NodeView[A[_]] extends java.lang.Object" id="12084">NodeView</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="12085">A</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2145158">_</a><span class="delimiter">]</span><span class="delimiter">]</span>
<span title="java.lang.Object" class="delimiter">{</span>
	<span class="keyword">def</span> <a title="[T](a: A[T])sbt.Node[A,T]" id="327315">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="327317">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145160">a</a>: <a href="#12085" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Node.scala.html#12101" title="sbt.Node[A,T]">Node</a><span class="delimiter">[</span>A, T<span class="delimiter">]</span>
	<span class="keyword">def</span> <a title="[T](a: A[T])Option[() =&gt; T]" id="327318">inline</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="327320">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145167">a</a>: <a href="#12085" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[() =&gt; T]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; T<span class="delimiter">]</span>
<span class="delimiter">}</span>
<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Triggers[A[_]] extends java.lang.Object with ScalaObject" id="12086">Triggers</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: Any" id="12087">A</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2145169">_</a><span class="delimiter">]</span><span class="delimiter">]</span><a href="#12086" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="scala.collection.Map[A[_],Seq[A[_]]]" id="334108">runBefore</a>: collection.<span title="scala.collection.Map[A[_],Seq[A[_]]]">Map</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span>, <span class="keyword">val</span> <a title="scala.collection.Map[A[_],Seq[A[_]]]" id="334109">injectFor</a>: collection.<span title="scala.collection.Map[A[_],Seq[A[_]]]">Map</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span>, <span class="keyword">val</span> <a title="sbt.RMap[A,sbt.Result] =&gt; sbt.RMap[A,sbt.Result]" id="334110">onComplete</a>: RMap<span class="delimiter">[</span>A,Result<span class="delimiter">]</span> =&gt; RMap<span class="delimiter">[</span>A,Result<span class="delimiter">]</span><span class="delimiter">)</span>

<span class="keyword">final</span> <span class="keyword">class</span> <a title="class Execute[A[_] &lt;: AnyRef] extends java.lang.Object with ScalaObject" id="12088">Execute</a><span class="delimiter">[</span><a title="[_]&gt;: Nothing &lt;: AnyRef" id="12089">A</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="391564">_</a><span class="delimiter">]</span> &lt;: AnyRef<span class="delimiter">]</span><a href="#12088" title="ScalaObject" class="delimiter">(</a><a title="Boolean" id="390967">checkCycles</a>: <span title="Boolean">Boolean</span>, <a title="sbt.Triggers[A]" id="390968">triggers</a>: <a href="#12086" title="sbt.Triggers[A]">Triggers</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbt.NodeView[A]" id="390969">view</a>: <a href="#12084" title="sbt.NodeView[A]">NodeView</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="delimiter">{</span>
	<span class="keyword">type</span> <a title="sbt.CompletionService[A[_],sbt.Completed]" id="390874">Strategy</a> = <a href="CompletionService.scala.html#12056" title="sbt.CompletionService[A[_],sbt.Completed]">CompletionService</a><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span>, Completed<span class="delimiter">]</span>

	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[A[_],sbt.IDSet[A[_]]]" id="390875">forward</a> = <a href="#334117" title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">idMap</a><span title="scala.collection.mutable.Map[A[_],sbt.IDSet[A[_]]]" class="delimiter">[</span><a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a href="IDSet.scala.html#12426" title="sbt.IDSet[A[_]]">IDSet</a><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]" id="390876">reverse</a> = <a href="#334117" title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">idMap</a><span title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]" class="delimiter">[</span><a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span title="Iterable[A[_]]">Iterable</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="sbt.PMap[A,[T]sbt.IDSet[A[T]]]" id="390877">callers</a> = <a href="#334122" title="[A[_], B[_]]=&gt; sbt.PMap[A,B]">pMap</a><span title="sbt.PMap[A,[T]sbt.IDSet[A[T]]]" class="delimiter">[</span><a href="#12089" title="A">A</a>, Compose<span class="delimiter">[</span>IDSet,A<span class="delimiter">]</span>#<a href="IDSet.scala.html#12426" title="[T]sbt.IDSet[A[T]]">Apply</a> <span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[A[_],Execute.this.State]" id="390878">state</a> = <a href="#334117" title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">idMap</a><span title="scala.collection.mutable.Map[A[_],Execute.this.State]" class="delimiter">[</span><a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <span title="Execute.this.State">State</span><span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="sbt.PMap[A,[T]sbt.Node[A,T]]" id="390879">viewCache</a> = <a href="#334122" title="[A[_], B[_]]=&gt; sbt.PMap[A,B]">pMap</a><span title="sbt.PMap[A,[T]sbt.Node[A,T]]" class="delimiter">[</span><a href="#12089" title="A">A</a>, NodeT<span class="delimiter">[</span>A<span class="delimiter">]</span>#<a href="Node.scala.html#12101" title="[T]sbt.Node[A,T]">Apply</a><span class="delimiter">]</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="sbt.PMap[A,sbt.Result]" id="390880">results</a> = <a href="#334122" title="[A[_], B[_]]=&gt; sbt.PMap[A,B]">pMap</a><span title="sbt.PMap[A,sbt.Result]" class="delimiter">[</span><a href="#12089" title="A">A</a>, <a href="Result.scala.html#12107" title="sbt.Result">Result</a><span class="delimiter">]</span>

	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">val</span> <a title="sbt.~&gt;[A,sbt.Result]" id="390881">getResult</a>: A <a href="TypeFunctions.scala.html#12552" title="sbt.~&gt;[A,sbt.Result]">~&gt;</a> Result = <a href="#2145251" title="java.lang.Object with sbt.~&gt;[A,sbt.Result]" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with sbt.~&gt;[A,sbt.Result]" id="2145251" class="delimiter">(</a>A <a href="TypeFunctions.scala.html#12552" title="sbt.~&gt;[A,sbt.Result]">~&gt;</a> Result<span class="delimiter">)</span> <span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="[T](a: A[T])sbt.Result[T]" id="2145255">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2145257">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145258">a</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Result.scala.html#12107" title="sbt.Result[T]">Result</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#390969" title="sbt.NodeView[A]">view</a>.<a href="#327318" title="(a: A[T])Option[() =&gt; T]">inline</a><span class="delimiter">(</span><a href="#2145258" title="A[T]">a</a><span class="delimiter">)</span> <span title="sbt.Result[T]" class="keyword">match</span> <span class="delimiter">{</span>
			<span class="keyword">case</span> <span title="sbt.Value[T]">Some</span><span class="delimiter">(</span><a title="() =&gt; T" id="2145273">v</a><span class="delimiter">)</span> =&gt; <a href="Result.scala.html#327404" title="(value: T)sbt.Value[T]">Value</a><span class="delimiter">(</span><a href="#2145273" title="()T">v</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
			<span class="keyword">case</span> <span title="sbt.Result[T]">None</span> =&gt; <a href="PMap.scala.html#318604" title="(k: A[T])sbt.Result[T]">results</a><span class="delimiter">(</span><a href="#2145258" title="A[T]">a</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">type</span> <a title="Execute.this.State.Value" id="390882">State</a> = State.<span title="Execute.this.State.Value">Value</span>
	<span class="keyword">private</span><span class="delimiter">[</span><span class="keyword">this</span><span class="delimiter">]</span> <span class="keyword">object</span> <a title="object Execute.this.State" id="390883">State</a> <span title="ScalaObject" class="keyword">extends</span> <span title="Enumeration">Enumeration</span> <span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="sbt.Execute.State.Value" id="2145239">Pending</a>, <a title="sbt.Execute.State.Value" id="2145241">Running</a>, <a title="sbt.Execute.State.Value" id="2145243">Calling</a>, <a title="sbt.Execute.State.Value" id="2145245">Done</a> = <span title="=&gt; sbt.Execute.State.Value">Value</span>
	<span class="delimiter">}</span>
	<span class="keyword">import</span> <a href="#390883" title="object Execute.this.State">State</a>.<span class="delimiter">{</span>Pending, Running, Calling, Done<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="=&gt; String" id="390886">dump</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;State: &quot;)" class="string">&quot;State: &quot;</span>  <span title="(x$1: Any)java.lang.String">+</span> <a href="#390878" title="scala.collection.mutable.Map[A[_],Execute.this.State]">state</a>.<span title="()String">toString</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012\012Results: &quot;)" class="string">&quot;\n\nResults: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#390880" title="sbt.PMap[A,sbt.Result]">results</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012\012Calls: &quot;)" class="string">&quot;\n\nCalls: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#390877" title="sbt.PMap[A,[T]sbt.IDSet[A[T]]]">callers</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012\012&quot;)" class="string">&quot;\n\n&quot;</span>

	<span class="keyword">def</span> <a title="[T](root: A[T])(implicit strategy: Execute.this.Strategy)sbt.Result[T]" id="390887">run</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390889">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145321">root</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2145322">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>: <a href="Result.scala.html#12107" title="sbt.Result[T]">Result</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#390890" title="(root: A[T])(implicit strategy: Execute.this.Strategy)sbt.RMap[A,sbt.Result]">runKeep</a><span class="delimiter">(</span><a href="#2145321" title="A[T]">root</a><span class="delimiter">)</span><a href="PMap.scala.html#318604" title="(k: A[T])sbt.Result[T]" class="delimiter">(</a><a href="#2145322" title="Execute.this.Strategy">strategy</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#2145321" title="A[T]">root</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="sbt.Inc" id="2145332">i</a>: <a href="Incomplete.scala.html#12094" title="sbt.Incomplete">Incomplete</a> =&gt; <a href="Result.scala.html#327440" title="(cause: sbt.Incomplete)sbt.Inc">Inc</a><span class="delimiter">(</span><a href="#2145332" title="sbt.Incomplete">i</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="[T](root: A[T])(implicit strategy: Execute.this.Strategy)sbt.RMap[A,sbt.Result]" id="390890">runKeep</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390892">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="390984">root</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="390985">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>: <a href="PMap.scala.html#12467" title="sbt.RMap[A,sbt.Result]">RMap</a><span class="delimiter">[</span>A,Result<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#390878" title="scala.collection.mutable.Map[A[_],Execute.this.State]">state</a>.<span title="=&gt; Boolean">isEmpty</span>, <span title="java.lang.String(&quot;Execute already running/ran.&quot;)" class="string">&quot;Execute already running/ran.&quot;</span><span class="delimiter">)</span>

		<a href="#390908" title="(node: A[T])(implicit strategy: Execute.this.Strategy)Unit">addNew</a><a href="#390985" title="Execute.this.Strategy" class="delimiter">(</a><a href="#390984" title="A[T]">root</a><span class="delimiter">)</span>
		<a href="#390893" title="()(implicit strategy: Execute.this.Strategy)Unit">processAll</a><a href="#390985" title="Execute.this.Strategy" class="delimiter">(</a><span class="delimiter">)</span>
		<span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span> <a href="#390880" title="sbt.PMap[A,sbt.Result]">results</a> <a href="PMap.scala.html#318610" title="(k: A[T])Boolean">contains</a> <a href="#390984" title="A[T]">root</a>, <span title="java.lang.String(&quot;No result for root node.&quot;)" class="string">&quot;No result for root node.&quot;</span> <span class="delimiter">)</span>
		<a href="#390968" title="sbt.Triggers[A]">triggers</a>.<a href="#334110" title="(v1: sbt.RMap[A,sbt.Result])sbt.RMap[A,sbt.Result]">onComplete</a><span class="delimiter">(</span><a href="#390880" title="sbt.PMap[A,sbt.Result]">results</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="()(implicit strategy: Execute.this.Strategy)Unit" id="390893">processAll</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2145352">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		@tailrec <span class="keyword">def</span> <a title="()Unit" id="2145364">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<a href="#390965" title="(f: =&gt; Unit)Unit">pre</a> <span class="delimiter">{</span>
				<span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span><a href="#390876" title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]">reverse</a>.<span title="=&gt; Boolean">isEmpty</span>, <span title="java.lang.String(&quot;Nothing to process.&quot;)" class="string">&quot;Nothing to process.&quot;</span> <span class="delimiter">)</span>
				<span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span><a href="#390878" title="scala.collection.mutable.Map[A[_],Execute.this.State]">state</a>.<span title="=&gt; Iterable[Execute.this.State]">values</span>.<span title="(p: Execute.this.State =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span> <a href="#2145410" title="Execute.this.State">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#2145241" title="=&gt; Execute.this.State.Value">Running</a> <span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
					<a href="#390945" title="()Unit">snapshotCycleCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>
					<span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;Internal task engine error: nothing running.  This usually indicates a cycle in tasks.\012  Calling tasks (internal task engine state):\012&quot;)" class="string">&quot;Internal task engine error: nothing running.  This usually indicates a cycle in tasks.\n  Calling tasks (internal task engine state):\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#390894" title="=&gt; String">dumpCalling</a><span class="delimiter">)</span>
				<span class="delimiter">}</span>
			<span class="delimiter">}</span>

			<span class="delimiter">(</span><a href="#2145352" title="Execute.this.Strategy">strategy</a>.<a href="CompletionService.scala.html#390826" title="()sbt.Completed">take</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#390809" title="()Unit">process</a><span class="delimiter">(</span><span class="delimiter">)</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span><a href="#390876" title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]">reverse</a>.<span title="=&gt; Boolean">isEmpty</span> <span class="delimiter">)</span> <a href="#2145364" title="()Unit">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<a href="#2145364" title="()Unit">next</a><span class="delimiter">(</span><span class="delimiter">)</span>

		<a href="#390966" title="(f: =&gt; Unit)Unit">post</a> <span class="delimiter">{</span>
			<span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span> <a href="#390876" title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]">reverse</a>.<span title="=&gt; Boolean">isEmpty</span>, <span title="java.lang.String(&quot;Did not process everything.&quot;)" class="string">&quot;Did not process everything.&quot;</span> <span class="delimiter">)</span>
			<span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span> <a href="#390962" title="=&gt; Boolean">complete</a>, <span title="java.lang.String(&quot;Not all state was Done.&quot;)" class="string">&quot;Not all state was Done.&quot;</span> <span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="=&gt; String" id="390894">dumpCalling</a>: <span title="String">String</span> = <a href="#390878" title="scala.collection.mutable.Map[A[_],Execute.this.State]">state</a>.<span title="(p: ((A[_], Execute.this.State)) =&gt; Boolean)scala.collection.mutable.Map[A[_],Execute.this.State]">filter</span><span class="delimiter">(</span><a href="#2145445" title="(A[_], Execute.this.State)">_</a>.<span title="=&gt; Execute.this.State">_2</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#2145243" title="=&gt; Execute.this.State.Value">Calling</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012\011&quot;)" class="string">&quot;\n\t&quot;</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="[T](node: A[T], target: A[T])(implicit strategy: Execute.this.Strategy)Unit" id="390895">call</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390897">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145459">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="A[T]" id="2145460">target</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2145461">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#390967" title="Boolean">checkCycles</a><span class="delimiter">)</span> <a href="#390946" title="(node: A[T], target: A[T])Unit">cycleCheck</a><span class="delimiter">(</span><a href="#2145459" title="A[T]">node</a>, <a href="#2145460" title="A[T]">target</a><span class="delimiter">)</span>
		<a href="#390965" title="(f: =&gt; Unit)Unit">pre</a> <span class="delimiter">{</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390955" title="(d: A[_])Boolean">running</a><span class="delimiter">(</span><a href="#2145459" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span>
			<a href="#390944" title="(node: A[_])Unit">readyInv</a><span class="delimiter">(</span> <a href="#2145459" title="A[T]">node</a> <span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<a href="#390880" title="sbt.PMap[A,sbt.Result]">results</a>.<a href="PMap.scala.html#318607" title="(k: A[T])Option[sbt.Result[T]]">get</a><span class="delimiter">(</span><a href="#2145460" title="A[T]">target</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
			<span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="sbt.Result[T]" id="2145519">result</a><span class="delimiter">)</span> =&gt; <a href="#390898" title="(node: A[T], result: sbt.Result[T])(implicit strategy: Execute.this.Strategy)Unit">retire</a><a href="#2145461" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2145459" title="A[T]">node</a>, <a href="#2145519" title="sbt.Result[T]">result</a><span class="delimiter">)</span>
			<span class="keyword">case</span> <span title="Unit">None</span> =&gt; 
				<a href="#390878" title="(key: A[_], value: Execute.this.State)Unit">state</a><span class="delimiter">(</span><a href="#2145459" title="A[T]">node</a><span class="delimiter">)</span> = <a href="#2145243" title="=&gt; Execute.this.State.Value">Calling</a>
				<a href="#390905" title="(node: A[T])(implicit strategy: Execute.this.Strategy)Unit">addChecked</a><a href="#2145461" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2145460" title="A[T]">target</a><span class="delimiter">)</span>
				<a href="#390929" title="(caller: A[T], target: A[T])Unit">addCaller</a><span class="delimiter">(</span><a href="#2145459" title="A[T]">node</a>, <a href="#2145460" title="A[T]">target</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<a href="#390966" title="(f: =&gt; Unit)Unit">post</a> <span class="delimiter">{</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#390957" title="(d: A[_])Boolean">done</a><span class="delimiter">(</span><a href="#2145460" title="A[T]">target</a><span class="delimiter">)</span><span class="delimiter">)</span>
				<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#390957" title="(d: A[_])Boolean">done</a><span class="delimiter">(</span><a href="#2145459" title="A[T]">node</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<span class="keyword">else</span> <span class="delimiter">{</span>
				<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#390956" title="(d: A[_])Boolean">calling</a><span class="delimiter">(</span><a href="#2145459" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span>
				<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="PMap.scala.html#318604" title="(k: A[T])sbt.IDSet[A[T]]">callers</a><span class="delimiter">(</span><a href="#2145460" title="A[T]">target</a><span class="delimiter">)</span> <a href="IDSet.scala.html#2145218" title="(t: A[T])Boolean">contains</a> <a href="#2145459" title="A[T]">node</a> <span class="delimiter">)</span>
			<span class="delimiter">}</span>
			<a href="#390944" title="(node: A[_])Unit">readyInv</a><span class="delimiter">(</span> <a href="#2145459" title="A[T]">node</a> <span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](node: A[T], result: sbt.Result[T])(implicit strategy: Execute.this.Strategy)Unit" id="390898">retire</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390900">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145520">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="sbt.Result[T]" id="2145521">result</a>: <a href="Result.scala.html#12107" title="sbt.Result[T]">Result</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2145522">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="#390965" title="(f: =&gt; Unit)Unit">pre</a> <span class="delimiter">{</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390955" title="(d: A[_])Boolean">running</a><span class="delimiter">(</span><a href="#2145520" title="A[T]">node</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">|</span> <a href="#390956" title="(d: A[_])Boolean">calling</a><span class="delimiter">(</span><a href="#2145520" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span>
			<a href="#390944" title="(node: A[_])Unit">readyInv</a><span class="delimiter">(</span> <a href="#2145520" title="A[T]">node</a> <span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<a href="PMap.scala.html#2145047" title="(k: A[T], v: sbt.Result[T])Unit">results</a><span class="delimiter">(</span><a href="#2145520" title="A[T]">node</a><span class="delimiter">)</span> = <a href="#2145521" title="sbt.Result[T]">result</a>
		<a href="#390878" title="(key: A[_], value: Execute.this.State)Unit">state</a><span class="delimiter">(</span><a href="#2145520" title="A[T]">node</a><span class="delimiter">)</span> = <a href="#2145245" title="=&gt; Execute.this.State.Value">Done</a>
		<a href="#390923" title="(map: scala.collection.mutable.Map[A[_],Iterable[A[_]]], k: A[_])Iterable[A[_]]">remove</a><span class="delimiter">(</span> <a href="#390876" title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]">reverse</a>, <a href="#2145520" title="A[T]">node</a> <span class="delimiter">)</span> <span title="(f: A[_] =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="A[_]" id="2145671">dep</a> =&gt; <a href="#390904" title="(node: A[_], dependent: A[_])(implicit strategy: Execute.this.Strategy)Unit">notifyDone</a><a href="#2145522" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2145520" title="A[T]">node</a>, <a href="#2145671" title="A[_]">dep</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<a href="#390877" title="sbt.PMap[A,[T]sbt.IDSet[A[T]]]">callers</a>.<a href="PMap.scala.html#2145050" title="(k: A[T])Option[sbt.IDSet[A[T]]]">remove</a><span title="(xo: Option[sbt.IDSet[A[T]]])Iterable[sbt.IDSet[A[T]]]" class="delimiter">(</span> <a href="#2145520" title="A[T]">node</a> <span class="delimiter">)</span>.<a href="IDSet.scala.html#2145729" title="(implicit asTraversable: sbt.IDSet[A[T]] =&gt; scala.collection.TraversableOnce[A[T]])Iterable[A[T]]">flatten</a>.<span title="(f: A[T] =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="A[T]" id="2145821">c</a> =&gt; <a href="#390898" title="(node: A[T], result: sbt.Result[T])(implicit strategy: Execute.this.Strategy)Unit">retire</a><a href="#2145522" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2145821" title="A[T]">c</a>, <a href="#390901" title="(node: A[T], result: sbt.Result[T])sbt.Result[T]">callerResult</a><span class="delimiter">(</span><a href="#2145821" title="A[T]">c</a>, <a href="#2145521" title="sbt.Result[T]">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
		<a href="#390935" title="(node: A[_])Seq[A[_]]">triggeredBy</a><span class="delimiter">(</span> <a href="#2145520" title="A[T]">node</a> <span class="delimiter">)</span> <span title="(f: A[_] =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="A[_]" id="2145869">t</a> =&gt; <a href="#390905" title="(node: A[_$23])(implicit strategy: Execute.this.Strategy)Unit">addChecked</a><a href="#2145522" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2145869" title="A[_]">t</a><span class="delimiter">)</span> <span class="delimiter">}</span>

		<a href="#390966" title="(f: =&gt; Unit)Unit">post</a> <span class="delimiter">{</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390957" title="(d: A[_])Boolean">done</a><span class="delimiter">(</span><a href="#2145520" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="PMap.scala.html#318604" title="(k: A[T])sbt.Result[T]">results</a><span class="delimiter">(</span><a href="#2145520" title="A[T]">node</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#2145521" title="sbt.Result[T]">result</a> <span class="delimiter">)</span>
			<a href="#390944" title="(node: A[_])Unit">readyInv</a><span class="delimiter">(</span> <a href="#2145520" title="A[T]">node</a> <span class="delimiter">)</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span> <span class="delimiter">(</span><a href="#390876" title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]">reverse</a> <span title="(key: A[_])Boolean">contains</span> <a href="#2145520" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span> <span class="delimiter">(</span><a href="#390877" title="sbt.PMap[A,[T]sbt.IDSet[A[T]]]">callers</a> <a href="PMap.scala.html#318610" title="(k: A[T])Boolean">contains</a> <a href="#2145520" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390935" title="(node: A[_])Seq[A[_]]">triggeredBy</a><span class="delimiter">(</span><a href="#2145520" title="A[T]">node</a><span class="delimiter">)</span> <span title="(p: A[_] =&gt; Boolean)Boolean">forall</span> <a href="#390961" title="(d: A[_])Boolean">added</a> <span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="[T](node: A[T], result: sbt.Result[T])sbt.Result[T]" id="390901">callerResult</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390903">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145825">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="sbt.Result[T]" id="2145826">result</a>: <a href="Result.scala.html#12107" title="sbt.Result[T]">Result</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Result.scala.html#12107" title="sbt.Result[T]">Result</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
		<a href="#2145826" title="sbt.Result[T]">result</a> <span title="sbt.Result[T]" class="keyword">match</span> <span class="delimiter">{</span>
			<span class="keyword">case</span> <span title="sbt.Result[T]">_</span>: <a href="Result.scala.html#12112" title="sbt.Value[T]">Value</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <a href="#2145826" title="sbt.Result[T]">result</a>
			<span class="keyword">case</span> <span title="sbt.Inc">Inc</span><span class="delimiter">(</span><a title="sbt.Incomplete" id="2145948">i</a><span class="delimiter">)</span> =&gt; <a href="Result.scala.html#327440" title="(cause: sbt.Incomplete)sbt.Inc">Inc</a><span class="delimiter">(</span><a href="Incomplete.scala.html#2145957" title="Option[String]" id="2145983">Incomplete</a><span class="delimiter">(</span><span title="(x: A[T])Some[A[T]]">Some</span><a title="Some[A[T]]" id="2145979" class="delimiter">(</a><a href="#2145825" title="A[T]">node</a><span class="delimiter">)</span>, tpe = <a href="#2145948" title="sbt.Incomplete">i</a>.<a href="Incomplete.scala.html#327460" title="sbt.Incomplete.Value" id="2145980">tpe</a>, causes = <a href="#2145948" title="sbt.Incomplete">i</a> <a href="#2145973" title="List[sbt.Incomplete]" id="2145981">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(node: A[_], dependent: A[_])(implicit strategy: Execute.this.Strategy)Unit" id="390904">notifyDone</a><span class="delimiter">(</span> <a title="A[_]" id="2145672">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="A[_]" id="2145673">dependent</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span> <span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2145674">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="sbt.IDSet[A[_]]" id="2145986">f</a> = <a href="#390875" title="(key: A[_])sbt.IDSet[A[_]]">forward</a><span class="delimiter">(</span><a href="#2145673" title="A[_]">dependent</a><span class="delimiter">)</span>
		<a href="#2145986" title="sbt.IDSet[A[_]]">f</a> <a href="IDSet.scala.html#2145221" title="(t: A[_])Boolean">-=</a> <a href="#2145672" title="A[_]">node</a>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <a href="#2145986" title="sbt.IDSet[A[_]]">f</a>.<a href="IDSet.scala.html#2145223" title="=&gt; Boolean">isEmpty</a> <span class="delimiter">)</span> <span class="delimiter">{</span>
			<a href="#390923" title="(map: scala.collection.mutable.Map[A[_],sbt.IDSet[A[_]]], k: A[_])sbt.IDSet[A[_]]">remove</a><span class="delimiter">(</span><a href="#390875" title="scala.collection.mutable.Map[A[_],sbt.IDSet[A[_]]]">forward</a>, <a href="#2145673" title="A[_]">dependent</a><span class="delimiter">)</span>
			<a href="#390911" title="(node: A[_$12])(implicit strategy: Execute.this.Strategy)Unit">ready</a><a href="#2145674" title="Execute.this.Strategy" class="delimiter">(</a> <a href="#2145673" title="A[_]">dependent</a> <span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Ensures the given node has been added to the system.
	* Once added, a node is pending until its inputs and dependencies have completed.
	* Its computation is then evaluated and made available for nodes that have it as an input.*/</span>
	<span class="keyword">def</span> <a title="[T](node: A[T])(implicit strategy: Execute.this.Strategy)Unit" id="390905">addChecked</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390907">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145535">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2145536">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span><a href="#390961" title="(d: A[_])Boolean">added</a><span class="delimiter">(</span><a href="#2145535" title="A[T]">node</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#390908" title="(node: A[T])(implicit strategy: Execute.this.Strategy)Unit">addNew</a><a href="#2145536" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2145535" title="A[T]">node</a><span class="delimiter">)</span>

		<a href="#390966" title="(f: =&gt; Unit)Unit">post</a> <span class="delimiter">{</span> <a href="#390937" title="(node: A[_])Unit">addedInv</a><span class="delimiter">(</span> <a href="#2145535" title="A[T]">node</a> <span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Adds a node that has not yet been registered with the system.
	* If all of the node's dependencies have finished, the node's computation scheduled to run.
	* The node's dependencies will be added (transitively) if they are not already registered.
	* */</span>
	<span class="keyword">def</span> <a title="[T](node: A[T])(implicit strategy: Execute.this.Strategy)Unit" id="390908">addNew</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390910">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145345">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2145346">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="#390965" title="(f: =&gt; Unit)Unit">pre</a> <span class="delimiter">{</span> <a href="#390942" title="(node: A[_])Unit">newPre</a><span class="delimiter">(</span><a href="#2145345" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">}</span>

		<span class="keyword">val</span> <a title="sbt.Node[A,T]" id="2146054">v</a> = <a href="#390914" title="(node: A[T])sbt.Node[A,T]">register</a><span class="delimiter">(</span> <a href="#2145345" title="A[T]">node</a> <span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="Iterable[A[_]]" id="2146055">deps</a> = <a href="#390933" title="(v: sbt.Node[A, _])Iterable[A[_]]">dependencies</a><span class="delimiter">(</span><a href="#2146054" title="sbt.Node[A,T]">v</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[A[_]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[A[_]],A[_],Iterable[A[_]]])Iterable[A[_]]">++</span> <a href="#390934" title="(node: A[_])Seq[A[_]]">runBefore</a><span class="delimiter">(</span><a href="#2145345" title="A[T]">node</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="sbt.IDSet[A[_]]" id="2146056">active</a> = <a href="IDSet.scala.html#2145735" title="[T](values: Iterable[T])sbt.IDSet[T]">IDSet</a><span title="(values: Iterable[A[_]])sbt.IDSet[A[_]]" class="delimiter">[</span><a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#2146055" title="Iterable[A[_]]">deps</a> <span title="(p: A[_] =&gt; Boolean)Iterable[A[_]]">filter</span> <a href="#390958" title="(d: A[_])Boolean">notDone</a> <span class="delimiter">)</span>

		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <a href="#2146056" title="sbt.IDSet[A[_]]">active</a>.<a href="IDSet.scala.html#2145223" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
			<a href="#390911" title="(node: A[T])(implicit strategy: Execute.this.Strategy)Unit">ready</a><a href="#2145346" title="Execute.this.Strategy" class="delimiter">(</a> <a href="#2145345" title="A[T]">node</a> <span class="delimiter">)</span>
		<span class="keyword">else</span>
		<span class="delimiter">{</span>
			<a href="#390875" title="(key: A[_], value: sbt.IDSet[A[_]])Unit">forward</a><span class="delimiter">(</span><a href="#2145345" title="A[T]">node</a><span class="delimiter">)</span> = <a href="#2146056" title="sbt.IDSet[A[_]]">active</a>
			<span class="keyword">for</span><span class="delimiter">(</span><a title="A[_]" id="2146240">a</a> &lt;- <a href="IDSet.scala.html#2145224" title="(f: A[_] =&gt; Unit)Unit">active</a><span class="delimiter">)</span>
			<span class="delimiter">{</span>
				<a href="#390905" title="(node: A[_$13])(implicit strategy: Execute.this.Strategy)Unit">addChecked</a><a href="#2145346" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2146240" title="A[_]">a</a><span class="delimiter">)</span>
				<a href="#390928" title="(node: A[_], dependent: A[_])Unit">addReverse</a><span class="delimiter">(</span><a href="#2146240" title="A[_]">a</a>, <a href="#2145345" title="A[T]">node</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>

		<a href="#390966" title="(f: =&gt; Unit)Unit">post</a> <span class="delimiter">{</span>
			<a href="#390937" title="(node: A[_])Unit">addedInv</a><span class="delimiter">(</span> <a href="#2145345" title="A[T]">node</a> <span class="delimiter">)</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390955" title="(d: A[_])Boolean">running</a><span class="delimiter">(</span><a href="#2145345" title="A[T]">node</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">^</span> <a href="#390954" title="(d: A[_])Boolean">pending</a><span class="delimiter">(</span><a href="#2145345" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <a href="#390955" title="(d: A[_])Boolean">running</a><span class="delimiter">(</span><a href="#2145345" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span> <a href="#390941" title="(node: A[_])Unit">runningInv</a><span class="delimiter">(</span> <a href="#2145345" title="A[T]">node</a> <span class="delimiter">)</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <a href="#390954" title="(d: A[_])Boolean">pending</a><span class="delimiter">(</span><a href="#2145345" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span> <a href="#390940" title="(node: A[_])Unit">pendingInv</a><span class="delimiter">(</span> <a href="#2145345" title="A[T]">node</a> <span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Called when a pending 'node' becomes runnable.  All of its dependencies must be done.  This schedules the node's computation with 'strategy'.*/</span>
	<span class="keyword">def</span> <a title="[T](node: A[T])(implicit strategy: Execute.this.Strategy)Unit" id="390911">ready</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390913">T</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="A[T]" id="2146034">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2146035">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="#390965" title="(f: =&gt; Unit)Unit">pre</a> <span class="delimiter">{</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390954" title="(d: A[_])Boolean">pending</a><span class="delimiter">(</span><a href="#2146034" title="A[T]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span>
			<a href="#390944" title="(node: A[_])Unit">readyInv</a><span class="delimiter">(</span> <a href="#2146034" title="A[T]">node</a> <span class="delimiter">)</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390876" title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]">reverse</a> <span title="(key: A[_])Boolean">contains</span> <a href="#2146034" title="A[T]">node</a> <span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<a href="#390878" title="(key: A[_], value: Execute.this.State)Unit">state</a><span class="delimiter">(</span><a href="#2146034" title="A[T]">node</a><span class="delimiter">)</span> = <a href="#2145241" title="=&gt; Execute.this.State.Value">Running</a>
		<a href="#390917" title="(node: A[T])(implicit strategy: Execute.this.Strategy)Unit">submit</a><a href="#2146035" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2146034" title="A[T]">node</a><span class="delimiter">)</span>

		<a href="#390966" title="(f: =&gt; Unit)Unit">post</a> <span class="delimiter">{</span>
			<a href="#390944" title="(node: A[_])Unit">readyInv</a><span class="delimiter">(</span> <a href="#2146034" title="A[T]">node</a> <span class="delimiter">)</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390876" title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]">reverse</a> <span title="(key: A[_])Boolean">contains</span> <a href="#2146034" title="A[T]">node</a> <span class="delimiter">)</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390955" title="(d: A[_])Boolean">running</a><span class="delimiter">(</span> <a href="#2146034" title="A[T]">node</a> <span class="delimiter">)</span> <span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Enters the given node into the system. */</span>
	<span class="keyword">def</span> <a title="[T](node: A[T])sbt.Node[A,T]" id="390914">register</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390916">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2146063">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Node.scala.html#12101" title="sbt.Node[A,T]">Node</a><span class="delimiter">[</span>A, T<span class="delimiter">]</span> = 
	<span class="delimiter">{</span>
		<a href="#390878" title="(key: A[_], value: Execute.this.State)Unit">state</a><span class="delimiter">(</span><a href="#2146063" title="A[T]">node</a><span class="delimiter">)</span> = <a href="#2145239" title="=&gt; Execute.this.State.Value">Pending</a>
		<a href="#390876" title="(key: A[_], value: Iterable[A[_]])Unit">reverse</a><span class="delimiter">(</span><a href="#2146063" title="A[T]">node</a><span class="delimiter">)</span> = <span title="(elems: Nothing*)Seq[Nothing]">Seq</span><span class="delimiter">(</span><span class="delimiter">)</span>
		<a href="#390879" title="sbt.PMap[A,[T]sbt.Node[A,T]]">viewCache</a>.<a href="PMap.scala.html#2145053" title="(k: A[T], make: =&gt; sbt.Node[A,T])sbt.Node[A,T]">getOrUpdate</a><span class="delimiter">(</span><a href="#2146063" title="A[T]">node</a>, <a href="#327315" title="(a: A[T])sbt.Node[A,T]">view</a><span class="delimiter">(</span><a href="#2146063" title="A[T]">node</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
		<span class="comment">/** Send the work for this node to the provided Strategy. */</span>
	<span class="keyword">def</span> <a title="[T](node: A[T])(implicit strategy: Execute.this.Strategy)Unit" id="390917">submit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390919">T</a><span class="delimiter">]</span><span class="delimiter">(</span> <a title="A[T]" id="2146307">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2146308">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="sbt.Node[A,T]" id="2146351">v</a> = <a href="PMap.scala.html#318604" title="(k: A[T])sbt.Node[A,T]">viewCache</a><span class="delimiter">(</span><a href="#2146307" title="A[T]">node</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="sbt.KList[sbt.Result,v.Mixed]" id="2146352">rs</a> = <a href="#2146351" title="sbt.Node[A,T]">v</a>.<a href="Node.scala.html#2145163" title="=&gt; sbt.KList[A,v.Mixed]">mixedIn</a> <a href="KList.scala.html#326092" title="(f: sbt.~&gt;[A,sbt.Result])sbt.KList[sbt.Result,v.Mixed]">transform</a> <a href="#390881" title="sbt.~&gt;[A,sbt.Result]">getResult</a>
		<span class="keyword">val</span> <a title="Seq[sbt.Result[v.Uniform]]" id="2146353">ud</a> = <a href="#2146351" title="sbt.Node[A,T]">v</a>.<a href="Node.scala.html#2145164" title="=&gt; Seq[A[v.Uniform]]">uniformIn</a>.<span title="(f: A[v.Uniform] =&gt; sbt.Result[v.Uniform])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[A[v.Uniform]],sbt.Result[v.Uniform],Seq[sbt.Result[v.Uniform]]])Seq[sbt.Result[v.Uniform]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,sbt.Result[v.Uniform],Seq[sbt.Result[v.Uniform]]]" class="delimiter">(</span><a href="#390881" title="sbt.~&gt;[A,sbt.Result]">getResult</a>.<a href="TypeFunctions.scala.html#318564" title="[T](a: A[T])sbt.Result[T]">apply</a><a href="#2146396" title="(a: A[v.Uniform])sbt.Result[v.Uniform]" class="delimiter">[</a>v.<a href="Node.scala.html#2145162" title="v.Uniform">Uniform</a><span class="delimiter">]</span><span class="delimiter">)</span>
		<a href="#2146308" title="Execute.this.Strategy">strategy</a>.<a href="CompletionService.scala.html#390825" title="(node: A[_], work: () =&gt; sbt.Completed)Unit">submit</a><span class="delimiter">(</span> <a href="#2146307" title="A[T]">node</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#390920" title="(node: A[T], f: =&gt; Either[A[T],T])(implicit strategy: Execute.this.Strategy)sbt.Completed">work</a><a href="#2146308" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2146307" title="A[T]">node</a>, <a href="#2146351" title="sbt.Node[A,T]">v</a>.<a href="Node.scala.html#2145165" title="(mixed: sbt.KList[sbt.Result,v.Mixed], uniform: Seq[sbt.Result[v.Uniform]])Either[A[T],T]">work</a><span class="delimiter">(</span><a href="#2146352" title="sbt.KList[sbt.Result,v.Mixed]">rs</a>, <a href="#2146353" title="Seq[sbt.Result[v.Uniform]]">ud</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Evaluates the computation 'f' for 'node'.
	* This returns a Completed instance, which contains the post-processing to perform after the result is retrieved from the Strategy.*/</span>
	<span class="keyword">def</span> <a title="[T](node: A[T], f: =&gt; Either[A[T],T])(implicit strategy: Execute.this.Strategy)sbt.Completed" id="390920">work</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390922">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2146422">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="=&gt; Either[A[T],T]" id="2146423">f</a>: =&gt; Either<span class="delimiter">[</span>A<span class="delimiter">[</span>T<span class="delimiter">]</span>, T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Execute.this.Strategy" id="2146424">strategy</a>: <a href="CompletionService.scala.html#12056" title="Execute.this.Strategy">Strategy</a><span class="delimiter">)</span>: <a href="#12083" title="sbt.Completed">Completed</a> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="Either extends Product with Serializable with Either[sbt.Incomplete,Either[A[T],T]]" id="2146438">result</a> = <a href="ErrorHandling.scala.html#50940" title="(f: =&gt; Either[A[T],T])Either[Throwable,Either[A[T],T]]">wideConvert</a><span class="delimiter">(</span><a href="#2146423" title="=&gt; Either[A[T],T]">f</a><span class="delimiter">)</span>.<span title="=&gt; Either.LeftProjection[Throwable,Either[A[T],T]]">left</span>.<span title="(f: Throwable =&gt; sbt.Incomplete)Product with Serializable with Either[sbt.Incomplete,Either[A[T],T]]">map</span> <a href="#2146449" title="sbt.Incomplete" class="delimiter">{</a>
			<span class="keyword">case</span> <a title="sbt.Incomplete" id="2146450">i</a>: <a href="Incomplete.scala.html#12094" title="sbt.Incomplete">Incomplete</a> =&gt; <span title="sbt.Incomplete" class="keyword">if</span><span class="delimiter">(</span><a href="#2146450" title="sbt.Incomplete">i</a>.<a href="Incomplete.scala.html#327458" title="=&gt; Option[AnyRef]">node</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#2146450" title="sbt.Incomplete">i</a>.<a href="Incomplete.scala.html#327470" title="(node: Option[AnyRef], tpe: sbt.Incomplete.Value, message: Option[String], causes: Seq[sbt.Incomplete], directCause: Option[Throwable])sbt.Incomplete">copy</a><span class="delimiter">(</span>node = <span title="(x: A[T])Some[A[T]]">Some</span><span class="delimiter">(</span><a href="#2146422" title="A[T]">node</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#2146450" title="sbt.Incomplete">i</a>
			<span class="keyword">case</span> <a title="sbt.Incomplete" id="2146454">e</a> =&gt; <a href="Incomplete.scala.html#2145957" title="Option[String]" id="2146477">Incomplete</a><span class="delimiter">(</span><span title="(x: A[T])Some[A[T]]">Some</span><a title="Some[A[T]]" id="2146473" class="delimiter">(</a><a href="#2146422" title="A[T]">node</a><span class="delimiter">)</span>, <a href="Incomplete.scala.html#12095" title="object sbt.Incomplete">Incomplete</a>.<a href="Incomplete.scala.html#389885" title="sbt.Incomplete.Value" id="2146474">Error</a>, directCause = <span title="(x: Throwable)Some[Throwable]">Some</span><a title="Some[Throwable]" id="2146475" class="delimiter">(</a><a href="#2146454" title="Throwable">e</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<a href="#334127" title="(p: =&gt; Unit)sbt.Completed">completed</a> <span class="delimiter">{</span>
			<a href="#2146438" title="Either extends Product with Serializable with Either[sbt.Incomplete,Either[A[T],T]]">result</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
				<span class="keyword">case</span> <span title="Unit">Left</span><span class="delimiter">(</span><a title="sbt.Incomplete" id="2146482">i</a><span class="delimiter">)</span> =&gt; <a href="#390898" title="(node: A[T], result: sbt.Result[T])(implicit strategy: Execute.this.Strategy)Unit">retire</a><a href="#2146424" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2146422" title="A[T]">node</a>, <a href="Result.scala.html#327440" title="(cause: sbt.Incomplete)sbt.Inc">Inc</a><span class="delimiter">(</span><a href="#2146482" title="sbt.Incomplete">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
				<span class="keyword">case</span> <span title="Unit">Right</span><span class="delimiter">(</span>Right<span class="delimiter">(</span><a title="T" id="2146491">v</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#390898" title="(node: A[T], result: sbt.Result[T])(implicit strategy: Execute.this.Strategy)Unit">retire</a><a href="#2146424" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2146422" title="A[T]">node</a>, <a href="Result.scala.html#327404" title="(value: T)sbt.Value[T]">Value</a><span class="delimiter">(</span><a href="#2146491" title="T">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
				<span class="keyword">case</span> <span title="Unit">Right</span><span class="delimiter">(</span>Left<span class="delimiter">(</span><a title="A[T]" id="2146502">target</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#390895" title="(node: A[T], target: A[T])(implicit strategy: Execute.this.Strategy)Unit">call</a><a href="#2146424" title="Execute.this.Strategy" class="delimiter">(</a><a href="#2146422" title="A[T]">node</a>, <a href="#2146502" title="A[T]">target</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[K, V](map: scala.collection.mutable.Map[K,V], k: K)V" id="390923">remove</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390926">K</a>, <a title="&gt;: Nothing &lt;: Any" id="390927">V</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.mutable.Map[K,V]" id="2145628">map</a>: <span title="scala.collection.mutable.Map[K,V]">Map</span><span class="delimiter">[</span>K, V<span class="delimiter">]</span>, <a title="K" id="2145629">k</a>: <a href="#390926" title="K">K</a><span class="delimiter">)</span>: <a href="#390927" title="V">V</a> = <a href="#2145628" title="scala.collection.mutable.Map[K,V]">map</a>.<span title="(key: K)Option[V]">remove</span><span class="delimiter">(</span><a href="#2145629" title="K">k</a><span class="delimiter">)</span>.<span title="(default: =&gt; V)V">getOrElse</span><span class="delimiter">(</span><span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Key \'&quot;)" class="string">&quot;Key '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2145629" title="K">k</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' not in map :\012&quot;)" class="string">&quot;' not in map :\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2145628" title="scala.collection.mutable.Map[K,V]">map</a><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(node: A[_], dependent: A[_])Unit" id="390928">addReverse</a><span class="delimiter">(</span><a title="A[_]" id="2146246">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="A[_]" id="2146247">dependent</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#390876" title="(key: A[_], value: Iterable[A[_]])Unit">reverse</a><span class="delimiter">(</span><a href="#2146246" title="A[_]">node</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[A[_]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[A[_]],A[_],Iterable[A[_]]])Iterable[A[_]]">++=</span> <span title="(elems: A[_$15]*)Seq[A[_$15]]">Seq</span><span class="delimiter">(</span><a href="#2146247" title="A[_]">dependent</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="[T](caller: A[T], target: A[T])Unit" id="390929">addCaller</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390931">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145542">caller</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="A[T]" id="2145543">target</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#390877" title="sbt.PMap[A,[T]sbt.IDSet[A[T]]]">callers</a>.<a href="PMap.scala.html#2145053" title="(k: A[T], make: =&gt; sbt.IDSet[A[T]])sbt.IDSet[A[T]]">getOrUpdate</a><span class="delimiter">(</span><a href="#2145543" title="A[T]">target</a>, <a href="IDSet.scala.html#12428" title="object sbt.IDSet">IDSet</a>.<a href="IDSet.scala.html#2145738" title="[T]=&gt; sbt.IDSet[T]">create</a><span title="sbt.IDSet[A[T]]" class="delimiter">[</span><a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <a href="IDSet.scala.html#2145219" title="(t: A[T])Unit">+=</a> <a href="#2145542" title="A[T]">caller</a>

	<span class="keyword">def</span> <a title="(node: A[_])Iterable[A[_]]" id="390932">dependencies</a><span class="delimiter">(</span><a title="A[_]" id="2146081">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Iterable[A[_]]">Iterable</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#390933" title="(v: sbt.Node[A, _])Iterable[A[_]]">dependencies</a><span class="delimiter">(</span><a href="PMap.scala.html#318604" title="(k: A[_$16])sbt.Node[A,_$16]">viewCache</a><span class="delimiter">(</span><a href="#2146081" title="A[_]">node</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(v: sbt.Node[A, _])Iterable[A[_]]" id="390933">dependencies</a><span class="delimiter">(</span><a title="sbt.Node[A, _]" id="2146073">v</a>: <a href="Node.scala.html#12101" title="sbt.Node[A, _]">Node</a><span class="delimiter">[</span>A, _<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Iterable[A[_]]">Iterable</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#2146073" title="sbt.Node[A, _]">v</a>.<a href="Node.scala.html#2145164" title="=&gt; Seq[A[v.Uniform]]">uniformIn</a> <span title="(that: scala.collection.GenTraversableOnce[A[_]])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[A[v.Uniform]],A[_],Seq[A[_]]])Seq[A[_]]">++</span> <a href="#2146073" title="sbt.Node[A, _]">v</a>.<a href="Node.scala.html#2145163" title="=&gt; sbt.KList[A,v.Mixed]">mixedIn</a>.<a href="KList.scala.html#326095" title="=&gt; List[A[_]]">toList</a><span class="delimiter">)</span>.<span title="(p: A[_] =&gt; Boolean)Seq[A[_]]">filter</span><span class="delimiter">(</span><a title="A[_]" id="2146740">dep</a> =&gt; <a href="#390969" title="sbt.NodeView[A]">view</a>.<a href="#327318" title="(a: A[_$1])Option[() =&gt; _$1]">inline</a><span class="delimiter">(</span><a href="#2146740" title="A[_]">dep</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(node: A[_])Seq[A[_]]" id="390934">runBefore</a><span class="delimiter">(</span><a title="A[_]" id="2146119">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[A[_]]">Seq</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#390936" title="(map: scala.collection.Map[A[_],Seq[A[_]]], node: A[_])Seq[A[_]]">getSeq</a><span class="delimiter">(</span><a href="#390968" title="sbt.Triggers[A]">triggers</a>.<a href="#334108" title="=&gt; scala.collection.Map[A[_],Seq[A[_]]]">runBefore</a>, <a href="#2146119" title="A[_]">node</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(node: A[_])Seq[A[_]]" id="390935">triggeredBy</a><span class="delimiter">(</span><a title="A[_]" id="2145838">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[A[_]]">Seq</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#390936" title="(map: scala.collection.Map[A[_],Seq[A[_]]], node: A[_])Seq[A[_]]">getSeq</a><span class="delimiter">(</span><a href="#390968" title="sbt.Triggers[A]">triggers</a>.<a href="#334109" title="=&gt; scala.collection.Map[A[_],Seq[A[_]]]">injectFor</a>, <a href="#2145838" title="A[_]">node</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(map: scala.collection.Map[A[_],Seq[A[_]]], node: A[_])Seq[A[_]]" id="390936">getSeq</a><span class="delimiter">(</span><a title="scala.collection.Map[A[_],Seq[A[_]]]" id="2146750">map</a>: collection.<span title="scala.collection.Map[A[_],Seq[A[_]]]">Map</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span>, Seq<span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">]</span>, <a title="A[_]" id="2146751">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[A[_]]">Seq</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#2146750" title="scala.collection.Map[A[_],Seq[A[_]]]">map</a>.<span title="(key: A[_], default: =&gt; Seq[A[_]])Seq[A[_]]">getOrElse</span><span class="delimiter">(</span><a href="#2146751" title="A[_]">node</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>

		<span class="comment">// Contracts</span>

	<span class="keyword">def</span> <a title="(node: A[_])Unit" id="390937">addedInv</a><span class="delimiter">(</span><a title="A[_]" id="2146048">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#390943" title="(node: A[_])Seq[A[_]]">topologicalSort</a><span class="delimiter">(</span><a href="#2146048" title="A[_]">node</a><span class="delimiter">)</span> <span title="(f: A[_] =&gt; Unit)Unit">foreach</span> <a href="#390938" title="(node: A[_])Unit">addedCheck</a>
	<span class="keyword">def</span> <a title="(node: A[_])Unit" id="390938">addedCheck</a><span class="delimiter">(</span><a title="A[_]" id="2146858">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span> <a href="#390961" title="(d: A[_])Boolean">added</a><span class="delimiter">(</span><a href="#2146858" title="A[_]">node</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;Not added: &quot;)" class="string">&quot;Not added: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2146858" title="A[_]">node</a> <span class="delimiter">)</span>
		<span title="(assertion: Boolean, message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span> <a href="#390879" title="sbt.PMap[A,[T]sbt.Node[A,T]]">viewCache</a> <a href="PMap.scala.html#318610" title="(k: A[_$29])Boolean">contains</a> <a href="#2146858" title="A[_]">node</a>, <span title="java.lang.String(&quot;Not in view cache: &quot;)" class="string">&quot;Not in view cache: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#2146858" title="A[_]">node</a> <span class="delimiter">)</span>
		<a href="#390939" title="(node: A[_])Unit">dependencyCheck</a><span class="delimiter">(</span> <a href="#2146858" title="A[_]">node</a> <span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(node: A[_])Unit" id="390939">dependencyCheck</a><span class="delimiter">(</span> <a title="A[_]" id="2146894">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span> <span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="#390932" title="(node: A[_])Iterable[A[_]]">dependencies</a><span class="delimiter">(</span> <a href="#2146894" title="A[_]">node</a> <span class="delimiter">)</span> <span title="(f: A[_] =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="A[_]" id="2146937">dep</a> =&gt;
			<span class="keyword">def</span> <a title="[T](o: Option[T])(f: T =&gt; Boolean)Boolean" id="2146938">onOpt</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="2146940">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[T]" id="2146943">o</a>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="T =&gt; Boolean" id="2146944">f</a>: T =&gt; Boolean<span class="delimiter">)</span> = <a href="#2146943" title="Option[T]">o</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(false)">None</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>; <span class="keyword">case</span> <span title="Boolean">Some</span><span class="delimiter">(</span><a title="T" id="2146946">x</a><span class="delimiter">)</span> =&gt; <a href="#2146944" title="(v1: T)Boolean">f</a><span class="delimiter">(</span><a href="#2146946" title="T">x</a><span class="delimiter">)</span> <span class="delimiter">}</span>
			<span class="keyword">def</span> <a title="=&gt; Boolean" id="2146941">checkForward</a> = <a href="#2146938" title="(o: Option[sbt.IDSet[A[_]]])(f: sbt.IDSet[A[_]] =&gt; Boolean)Boolean">onOpt</a><span class="delimiter">(</span> <a href="#390875" title="scala.collection.mutable.Map[A[_],sbt.IDSet[A[_]]]">forward</a>.<span title="(key: A[_])Option[sbt.IDSet[A[_]]]">get</span><span class="delimiter">(</span><a href="#2146894" title="A[_]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#2146964" title="sbt.IDSet[A[_]]">_</a> <a href="IDSet.scala.html#2145218" title="(t: A[_])Boolean">contains</a> <a href="#2146937" title="A[_]">dep</a> <span class="delimiter">}</span>
			<span class="keyword">def</span> <a title="=&gt; Boolean" id="2146942">checkReverse</a> = <a href="#2146938" title="(o: Option[Iterable[A[_]]])(f: Iterable[A[_]] =&gt; Boolean)Boolean">onOpt</a><span class="delimiter">(</span> <a href="#390876" title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]">reverse</a>.<span title="(key: A[_])Option[Iterable[A[_]]]">get</span><span class="delimiter">(</span><a href="#2146937" title="A[_]">dep</a><span class="delimiter">)</span> <span class="delimiter">)</span><span class="delimiter">{</span> <a href="#2146984" title="Iterable[A[_]]">_</a>.<span title="(p: A[_] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#2146990" title="A[_]">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#2146894" title="A[_]">node</a><span class="delimiter">)</span> <span class="delimiter">}</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390957" title="(d: A[_])Boolean">done</a><span class="delimiter">(</span><a href="#2146937" title="A[_]">dep</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">^</span> <span class="delimiter">(</span> <a href="#2146941" title="=&gt; Boolean">checkForward</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#2146942" title="=&gt; Boolean">checkReverse</a> <span class="delimiter">)</span> <span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(node: A[_])Unit" id="390940">pendingInv</a><span class="delimiter">(</span><a title="A[_]" id="2146286">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390959" title="(d: A[_], s: Execute.this.State)Boolean">atState</a><span class="delimiter">(</span><a href="#2146286" title="A[_]">node</a>, <a href="#2145239" title="=&gt; Execute.this.State.Value">Pending</a><span class="delimiter">)</span> <span class="delimiter">)</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <span class="delimiter">(</span><a href="#390932" title="(node: A[_])Iterable[A[_]]">dependencies</a><span class="delimiter">(</span> <a href="#2146286" title="A[_]">node</a> <span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[A[_]])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[A[_]],A[_],Iterable[A[_]]])Iterable[A[_]]">++</span> <a href="#390934" title="(node: A[_])Seq[A[_]]">runBefore</a><span class="delimiter">(</span><a href="#2146286" title="A[_]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span title="(p: A[_] =&gt; Boolean)Boolean">exists</span> <a href="#390958" title="(d: A[_])Boolean">notDone</a> <span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(node: A[_])Unit" id="390941">runningInv</a><span class="delimiter">(</span> <a title="A[_]" id="2146278">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span> <span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390932" title="(node: A[_])Iterable[A[_]]">dependencies</a><span class="delimiter">(</span> <a href="#2146278" title="A[_]">node</a> <span class="delimiter">)</span> <span title="(p: A[_] =&gt; Boolean)Boolean">forall</span> <a href="#390957" title="(d: A[_])Boolean">done</a> <span class="delimiter">)</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span> <span class="delimiter">(</span><a href="#390875" title="scala.collection.mutable.Map[A[_],sbt.IDSet[A[_]]]">forward</a> <span title="(key: A[_])Boolean">contains</span> <a href="#2146278" title="A[_]">node</a><span class="delimiter">)</span> <span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(node: A[_])Unit" id="390942">newPre</a><span class="delimiter">(</span><a title="A[_]" id="2146057">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="#390960" title="(d: A[_])Boolean">isNew</a><span class="delimiter">(</span><a href="#2146057" title="A[_]">node</a><span class="delimiter">)</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#390876" title="scala.collection.mutable.Map[A[_],Iterable[A[_]]]">reverse</a> <span title="(key: A[_])Boolean">contains</span> <a href="#2146057" title="A[_]">node</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#390875" title="scala.collection.mutable.Map[A[_],sbt.IDSet[A[_]]]">forward</a> <span title="(key: A[_])Boolean">contains</span> <a href="#2146057" title="A[_]">node</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#390877" title="sbt.PMap[A,[T]sbt.IDSet[A[T]]]">callers</a> <a href="PMap.scala.html#318610" title="(k: A[_$33])Boolean">contains</a> <a href="#2146057" title="A[_]">node</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#390879" title="sbt.PMap[A,[T]sbt.Node[A,T]]">viewCache</a> <a href="PMap.scala.html#318610" title="(k: A[_$33])Boolean">contains</a> <a href="#2146057" title="A[_]">node</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#390880" title="sbt.PMap[A,sbt.Result]">results</a> <a href="PMap.scala.html#318610" title="(k: A[_$33])Boolean">contains</a> <a href="#2146057" title="A[_]">node</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(node: A[_])Seq[A[_]]" id="390943">topologicalSort</a><span class="delimiter">(</span><a title="A[_]" id="2146826">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[A[_]]">Seq</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="sbt.IDSet[A[_]]" id="2147204">seen</a> = <a href="IDSet.scala.html#12428" title="object sbt.IDSet">IDSet</a>.<a href="IDSet.scala.html#2145738" title="[T]=&gt; sbt.IDSet[T]">create</a><span title="sbt.IDSet[A[_]]" class="delimiter">[</span><a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span>
		<span class="keyword">def</span> <a title="(n: A[_])List[A[_]]" id="2147205">visit</a><span class="delimiter">(</span><a title="A[_]" id="2147210">n</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[A[_]]">List</span><span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> =
			<span class="delimiter">(</span><a href="#2147204" title="sbt.IDSet[A[_]]">seen</a> <a href="IDSet.scala.html#2145225" title="(t: A[_])(ifSeen: List[A[_]])(ifNew: =&gt; List[A[_]])List[A[_]]">process</a> <a href="#2147210" title="A[_]">n</a><span class="delimiter">)</span><span class="delimiter">(</span> List<span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span>
				<a href="#2146826" title="A[_]">node</a> <a href="#2147254" title="(x: A[_])List[A[_]]">::</a> <span class="delimiter">(</span>List<span class="delimiter">[</span>A<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span> <a href="#2147257" title="(z: List[A[_]])(op: (List[A[_]], A[_]) =&gt; List[A[_]])List[A[_]]">/:</a> <a href="#390932" title="(node: A[_])Iterable[A[_]]">dependencies</a><span class="delimiter">(</span><a href="#2147210" title="A[_]">n</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="List[A[_]]" id="2147297">ss</a>, <a title="A[_]" id="2147298">dep</a><span class="delimiter">)</span> =&gt; <a href="#2147205" title="(n: A[_])List[A[_]]">visit</a><span class="delimiter">(</span><a href="#2147298" title="A[_]">dep</a><span class="delimiter">)</span> <a href="#2147299" title="(prefix: List[A[_]])List[A[_]]">:::</a> <a href="#2147297" title="List[A[_]]">ss</a><span class="delimiter">}</span>
			<span class="delimiter">}</span>

		<a href="#2147205" title="(n: A[_])List[A[_]]">visit</a><span class="delimiter">(</span><a href="#2146826" title="A[_]">node</a><span class="delimiter">)</span>.<span title="=&gt; List[A[_]]">reverse</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(node: A[_])Unit" id="390944">readyInv</a><span class="delimiter">(</span><a title="A[_]" id="2145508">node</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <a href="#390932" title="(node: A[_])Iterable[A[_]]">dependencies</a><span class="delimiter">(</span><a href="#2145508" title="A[_]">node</a><span class="delimiter">)</span> <span title="(p: A[_] =&gt; Boolean)Boolean">forall</span> <a href="#390957" title="(d: A[_])Boolean">done</a> <span class="delimiter">)</span>
		<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span> <span class="delimiter">(</span> <a href="#390875" title="scala.collection.mutable.Map[A[_],sbt.IDSet[A[_]]]">forward</a> <span title="(key: A[_])Boolean">contains</span> <a href="#2145508" title="A[_]">node</a> <span class="delimiter">)</span> <span class="delimiter">)</span>
	<span class="delimiter">}</span>

		<span class="comment">// cyclic reference checking</span>

	<span class="keyword">def</span> <a title="()Unit" id="390945">snapshotCycleCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<span class="keyword">for</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="A[?&gt;: Nothing &lt;: Any]" id="2147449">called</a>: <a href="#12089" title="A[c]">A</a><span class="delimiter">[</span>c<span class="delimiter">]</span>, <a title="sbt.IDSet[A[_0]] forSome { type _0; type _$2 }" id="2147455">callers</a><span class="delimiter">)</span> &lt;- <a href="#390877" title="sbt.PMap[A,[T]sbt.IDSet[A[T]]]">callers</a>.<a href="PMap.scala.html#318613" title="(f: ((A[_], sbt.IDSet[A[_$2]] forSome { type _$2 })) =&gt; Unit)Unit">toSeq</a>; <a title="A[_0]" id="2147468">caller</a> &lt;- <a href="IDSet.scala.html#2145224" title="((f: A[_0] =&gt; Unit)Unit) forSome { type _0; type _0 }">callers</a><span class="delimiter">)</span>
			<a href="#390946" title="(node: A[c], target: A[c])Unit">cycleCheck</a><span class="delimiter">(</span><a href="#2147468" title="A[_0]">caller</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="A[c]" class="delimiter">[</span><a href="#12089" title="A[c]">A</a><span class="delimiter">[</span>c<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="#2147449" title="A[?&gt;: Nothing &lt;: Any]">called</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="[T](node: A[T], target: A[T])Unit" id="390946">cycleCheck</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390948">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2145465">node</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="A[T]" id="2145466">target</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2145465" title="A[T]">node</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#2145466" title="A[T]">target</a><span class="delimiter">)</span> <a href="#390949" title="(caller: A[T], target: A[T], msg: String)Nothing">cyclic</a><span class="delimiter">(</span><a href="#2145465" title="A[T]">node</a>, <a href="#2145466" title="A[T]">target</a>, <span title="java.lang.String(&quot;Cannot call self&quot;)" class="string">&quot;Cannot call self&quot;</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="sbt.IDSet[A[T]]" id="2147477">all</a> = <a href="IDSet.scala.html#12428" title="object sbt.IDSet">IDSet</a>.<a href="IDSet.scala.html#2145738" title="[T]=&gt; sbt.IDSet[T]">create</a><span title="sbt.IDSet[A[T]]" class="delimiter">[</span><a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>
		<span class="keyword">def</span> <a title="(n: A[T])Unit" id="2147478">allCallers</a><span class="delimiter">(</span><a title="A[T]" id="2147522">n</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">(</span><a href="#2147477" title="sbt.IDSet[A[T]]">all</a> <a href="IDSet.scala.html#2145225" title="(t: A[T])(ifSeen: Unit)(ifNew: =&gt; Unit)Unit">process</a> <a href="#2147522" title="A[T]">n</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#390877" title="sbt.PMap[A,[T]sbt.IDSet[A[T]]]">callers</a>.<a href="PMap.scala.html#318607" title="(k: A[T])Option[sbt.IDSet[A[T]]]">get</a><span title="(xo: Option[sbt.IDSet[A[T]]])Iterable[sbt.IDSet[A[T]]]" class="delimiter">(</span><a href="#2147522" title="A[T]">n</a><span class="delimiter">)</span>.<a href="IDSet.scala.html#2145729" title="(implicit asTraversable: sbt.IDSet[A[T]] =&gt; scala.collection.TraversableOnce[A[T]])Iterable[A[T]]">flatten</a>.<span title="(f: A[T] =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#2147478" title="(n: A[T])Unit">allCallers</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<a href="#2147478" title="(n: A[T])Unit">allCallers</a><span class="delimiter">(</span><a href="#2145465" title="A[T]">node</a><span class="delimiter">)</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#2147477" title="sbt.IDSet[A[T]]">all</a> <a href="IDSet.scala.html#2145218" title="(t: A[T])Boolean">contains</a> <a href="#2145466" title="A[T]">target</a><span class="delimiter">)</span> <a href="#390949" title="(caller: A[T], target: A[T], msg: String)Nothing">cyclic</a><span class="delimiter">(</span><a href="#2145465" title="A[T]">node</a>, <a href="#2145466" title="A[T]">target</a>, <span title="java.lang.String(&quot;Cyclic reference&quot;)" class="string">&quot;Cyclic reference&quot;</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="[T](caller: A[T], target: A[T], msg: String)Nothing" id="390949">cyclic</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390951">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="A[T]" id="2147479">caller</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="A[T]" id="2147480">target</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="String" id="2147481">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Nothing" class="keyword">throw</span> <a href="Incomplete.scala.html#389948" title="sbt.Incomplete.Value" id="2147511" class="keyword">new</a> <a href="Incomplete.scala.html#12095" title="object sbt.Incomplete">Incomplete</a><span class="delimiter">(</span><span title="(x: A[T])Some[A[T]]">Some</span><a title="Some[A[T]]" id="2147507" class="delimiter">(</a><a href="#2147479" title="A[T]">caller</a><span class="delimiter">)</span>, message = <span title="(x: String)Some[String]">Some</span><a title="Some[String]" id="2147508" class="delimiter">(</a><a href="#2147481" title="String">msg</a><span class="delimiter">)</span>, directCause = <span title="(x: Execute.this.CyclicException[T])Some[Execute.this.CyclicException[T]]">Some</span><a title="Some[Execute.this.CyclicException[T]]" id="2147509" class="delimiter">(</a> <span title="Execute.this.CyclicException[T]" class="keyword">new</span> <a href="#390952" title="Execute.this.CyclicException[T]">CyclicException</a><span class="delimiter">(</span><a href="#2147479" title="A[T]">caller</a>, <a href="#2147480" title="A[T]">target</a>, <a href="#2147481" title="String">msg</a><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="delimiter">)</span>
	<span class="keyword">final</span> <span class="keyword">class</span> <a title="class CyclicException[T] extends java.lang.Exception with ScalaObject" id="390952">CyclicException</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="390953">T</a><span class="delimiter">]</span><a href="#390952" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="A[T]" id="2147497">caller</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <span class="keyword">val</span> <a title="A[T]" id="2147498">target</a>: <a href="#12089" title="A[T]">A</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="String" id="2147499">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="java.lang.Exception">Exception</span><span class="delimiter">(</span><a href="#2147499" title="String">msg</a><span class="delimiter">)</span>

		<span class="comment">// state testing</span>

	<span class="keyword">def</span> <a title="(d: A[_])Boolean" id="390954">pending</a><span class="delimiter">(</span><a title="A[_]" id="2146265">d</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#390959" title="(d: A[_], s: Execute.this.State)Boolean">atState</a><span class="delimiter">(</span><a href="#2146265" title="A[_]">d</a>, <a href="#2145239" title="=&gt; Execute.this.State.Value">Pending</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(d: A[_])Boolean" id="390955">running</a><span class="delimiter">(</span><a title="A[_]" id="2145477">d</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#390959" title="(d: A[_], s: Execute.this.State)Boolean">atState</a><span class="delimiter">(</span><a href="#2145477" title="A[_]">d</a>, <a href="#2145241" title="=&gt; Execute.this.State.Value">Running</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(d: A[_])Boolean" id="390956">calling</a><span class="delimiter">(</span><a title="A[_]" id="2145569">d</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#390959" title="(d: A[_], s: Execute.this.State)Boolean">atState</a><span class="delimiter">(</span><a href="#2145569" title="A[_]">d</a>, <a href="#2145243" title="=&gt; Execute.this.State.Value">Calling</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(d: A[_])Boolean" id="390957">done</a><span class="delimiter">(</span><a title="A[_]" id="2145552">d</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#390959" title="(d: A[_], s: Execute.this.State)Boolean">atState</a><span class="delimiter">(</span><a href="#2145552" title="A[_]">d</a>, <a href="#2145245" title="=&gt; Execute.this.State.Value">Done</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(d: A[_])Boolean" id="390958">notDone</a><span class="delimiter">(</span><a title="A[_]" id="2146199">d</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#390957" title="(d: A[_])Boolean">done</a><span class="delimiter">(</span><a href="#2146199" title="A[_]">d</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(d: A[_], s: Execute.this.State)Boolean" id="390959">atState</a><span class="delimiter">(</span><a title="A[_]" id="2145480">d</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Execute.this.State" id="2145481">s</a>: <span title="Execute.this.State">State</span><span class="delimiter">)</span> = <a href="#390878" title="scala.collection.mutable.Map[A[_],Execute.this.State]">state</a>.<span title="(key: A[_])Option[Execute.this.State]">get</span><span class="delimiter">(</span><a href="#2145480" title="A[_]">d</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="(x: Execute.this.State)Some[Execute.this.State]">Some</span><span class="delimiter">(</span><a href="#2145481" title="Execute.this.State">s</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(d: A[_])Boolean" id="390960">isNew</a><span class="delimiter">(</span><a title="A[_]" id="2147151">d</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#390961" title="(d: A[_])Boolean">added</a><span class="delimiter">(</span><a href="#2147151" title="A[_]">d</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(d: A[_])Boolean" id="390961">added</a><span class="delimiter">(</span><a title="A[_]" id="2145928">d</a>: <a href="#12089" title="A[_]">A</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#390878" title="scala.collection.mutable.Map[A[_],Execute.this.State]">state</a> <span title="(key: A[_])Boolean">contains</span> <a href="#2145928" title="A[_]">d</a>
	<span class="keyword">def</span> <a title="=&gt; Boolean" id="390962">complete</a> = <a href="#390878" title="scala.collection.mutable.Map[A[_],Execute.this.State]">state</a>.<span title="=&gt; Iterable[Execute.this.State]">values</span>.<span title="(p: Execute.this.State =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#2145437" title="Execute.this.State">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#2145245" title="=&gt; Execute.this.State.Value">Done</a><span class="delimiter">)</span>

	<span class="keyword">import</span> scala.annotation.elidable
	<span class="keyword">import</span> <span title="object scala.annotation.elidable">elidable</span>._
	@elidable<span class="delimiter">(</span>ASSERTION<span class="delimiter">)</span> <span class="keyword">def</span> <a title="(f: =&gt; Unit)Unit" id="390965">pre</a><span class="delimiter">(</span><a title="=&gt; Unit" id="2145365">f</a>: =&gt; Unit<span class="delimiter">)</span> = <a href="#2145365" title="=&gt; Unit">f</a>
	@elidable<span class="delimiter">(</span>ASSERTION<span class="delimiter">)</span> <span class="keyword">def</span> <a title="(f: =&gt; Unit)Unit" id="390966">post</a><span class="delimiter">(</span><a title="=&gt; Unit" id="2145420">f</a>: =&gt; Unit<span class="delimiter">)</span> = <a href="#2145420" title="=&gt; Unit">f</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
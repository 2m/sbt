<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>IO.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2008, 2009, 2010 Mark Harrah, Viktor Klang, Ross McDonald
 */</span>
<span class="keyword">package</span> sbt

<span class="keyword">import</span> <a href="Using.scala.html#10762" title="object sbt.Using">Using</a>._
<span class="keyword">import</span> <a href="ErrorHandling.scala.html#10783" title="object sbt.ErrorHandling">ErrorHandling</a>.translate

<span class="keyword">import</span> java.io.<span class="delimiter">{</span>BufferedReader, ByteArrayOutputStream, BufferedWriter, File, FileInputStream, InputStream, OutputStream, PrintWriter<span class="delimiter">}</span>
<span class="keyword">import</span> java.net.<span class="delimiter">{</span>URI, URISyntaxException, URL<span class="delimiter">}</span>
<span class="keyword">import</span> java.nio.charset.Charset
<span class="keyword">import</span> java.util.Properties
<span class="keyword">import</span> java.util.jar.<span class="delimiter">{</span>Attributes, JarEntry, JarFile, JarInputStream, JarOutputStream, Manifest<span class="delimiter">}</span>
<span class="keyword">import</span> java.util.zip.<span class="delimiter">{</span>CRC32, GZIPOutputStream, ZipEntry, ZipFile, ZipInputStream, ZipOutputStream<span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.immutable.TreeSet
<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span>HashMap,HashSet<span class="delimiter">}</span>
<span class="keyword">import</span> scala.reflect.<span class="delimiter">{</span>Manifest =&gt; SManifest<span class="delimiter">}</span>
<span class="keyword">import</span> Function.tupled

<span class="keyword">object</span> <a title="object sbt.IO" id="10435">IO</a>
<span title="ScalaObject" class="delimiter">{</span>
	<span class="comment">/** The maximum number of times a unique temporary filename is attempted to be created.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="33378">MaximumTries</a> = <span title="Int(10)" class="int">10</span>
	<span class="comment">/** The producer of randomness for unique name generation.*/</span>
	<span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.util.Random" id="33381">random</a> = <span title="java.util.Random" class="keyword">new</span> java.util.<span title="java.util.Random">Random</span>
	<span class="keyword">val</span> <a title="java.io.File" id="33382">temporaryDirectory</a> = <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.io.tmpdir&quot;)" class="string">&quot;java.io.tmpdir&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="comment">/** The size of the byte or char buffer used in various methods.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="33384">BufferSize</a> = <span title="Int(8192)" class="int">8192</span>
	<span class="keyword">val</span> <a title="java.lang.String" id="33386">Newline</a> = <span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;line.separator&quot;)" class="string">&quot;line.separator&quot;</span><span class="delimiter">)</span>

	<span class="keyword">val</span> <a title="java.nio.charset.Charset" id="33388">utf8</a> = <span title="object java.nio.charset.Charset">Charset</span>.<span title="(x$1: java.lang.String)java.nio.charset.Charset">forName</span><span class="delimiter">(</span><span title="java.lang.String(&quot;UTF-8&quot;)" class="string">&quot;UTF-8&quot;</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(cl: Class[_])java.net.URL" id="33390">classLocation</a><span class="delimiter">(</span><a title="Class[_]" id="533530">cl</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.net.URL">URL</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.security.CodeSource" id="533535">codeSource</a> = <a href="#533530" title="Class[_]">cl</a>.<span title="()java.security.ProtectionDomain">getProtectionDomain</span>.<span title="()java.security.CodeSource">getCodeSource</span>
		<span title="java.net.URL" class="keyword">if</span><span class="delimiter">(</span><a href="#533535" title="(x$1: AnyRef)Boolean">codeSource</a> == <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="(x$1: Any)java.lang.String" class="string">&quot;No class location for &quot;</span> + <a href="#533530" title="Class[_]">cl</a><span class="delimiter">)</span>
		<span class="keyword">else</span> <a href="#533535" title="java.security.CodeSource">codeSource</a>.<span title="()java.net.URL">getLocation</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(cl: Class[_])java.io.File" id="33391">classLocationFile</a><span class="delimiter">(</span><a title="Class[_]" id="495708">cl</a>: <span title="Class[_]">Class</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> = <a href="#33398" title="(url: java.net.URL)java.io.File">toFile</a><span class="delimiter">(</span><a href="#33390" title="(cl: Class[_])java.net.URL">classLocation</a><span class="delimiter">(</span><a href="#495708" title="Class[_]">cl</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="[T](implicit mf: scala.reflect.Manifest[T])java.net.URL" id="33392">classLocation</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33394">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="533587">mf</a>: <span title="scala.reflect.Manifest[T]">SManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.net.URL">URL</span> = <a href="#33390" title="(cl: Class[_])java.net.URL">classLocation</a><span class="delimiter">(</span><a href="#533587" title="scala.reflect.Manifest[T]">mf</a>.<span title="=&gt; Class[_]">erasure</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="[T](implicit mf: scala.reflect.Manifest[T])java.io.File" id="33395">classLocationFile</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33397">T</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.reflect.Manifest[T]" id="68983">mf</a>: <span title="scala.reflect.Manifest[T]">SManifest</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> = <a href="#33391" title="(cl: Class[_])java.io.File">classLocationFile</a><span class="delimiter">(</span><a href="#68983" title="scala.reflect.Manifest[T]">mf</a>.<span title="=&gt; Class[_]">erasure</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(url: java.net.URL)java.io.File" id="33398">toFile</a><span class="delimiter">(</span><a title="java.net.URL" id="505370">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span> =
		<span class="keyword">try</span> <span class="delimiter">{</span> <span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#505370" title="java.net.URL">url</a>.<span title="()java.net.URI">toURI</span><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="keyword">catch</span> <span class="delimiter">{</span> <span title="java.io.File" class="keyword">case</span> _: <span title="java.net.URISyntaxException">URISyntaxException</span> =&gt; <span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#505370" title="java.net.URL">url</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">/** Converts the given URL to a File.  If the URL is for an entry in a jar, the File for the jar is returned. */</span>
	<span class="keyword">def</span> <a title="(url: java.net.URL)java.io.File" id="33399">asFile</a><span class="delimiter">(</span><a title="java.net.URL" id="533630">url</a>: <span title="java.net.URL">URL</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
	<span class="delimiter">{</span>
		<a href="#533630" title="java.net.URL">url</a>.<span title="()java.lang.String">getProtocol</span> <span title="java.io.File" class="keyword">match</span>
		<span class="delimiter">{</span>
			<span title="java.io.File" class="keyword">case</span> <span title="java.lang.String(&quot;file&quot;)" class="string">&quot;file&quot;</span> =&gt; <a href="#33398" title="(url: java.net.URL)java.io.File">toFile</a><span class="delimiter">(</span><a href="#533630" title="java.net.URL">url</a><span class="delimiter">)</span>
			<span title="java.io.File" class="keyword">case</span> <span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span> =&gt;
				<span class="keyword">val</span> <a title="java.lang.String" id="533634">path</a> = <a href="#533630" title="java.net.URL">url</a>.<span title="()java.lang.String">getPath</span>
				<span class="keyword">val</span> <a title="Int" id="533635">end</a> = <a href="#533634" title="java.lang.String">path</a>.<span title="(x$1: Int)Int">indexOf</span><span class="delimiter">(</span><span title="Int(33)" class="char">'!'</span><span class="delimiter">)</span>
				<span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#533635" title="(x$1: Int)Boolean">end</a> == <span title="Int(-1)">-</span><span class="int">1</span><span class="delimiter">)</span> <a href="#533634" title="java.lang.String">path</a> <span class="keyword">else</span> <a href="#533634" title="java.lang.String">path</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#533635" title="Int">end</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
			<span title="Nothing" class="keyword">case</span> _ =&gt; <span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="(x$1: Any)java.lang.String" class="string">&quot;Invalid protocol &quot;</span> + <a href="#533630" title="java.net.URL">url</a>.<span title="()java.lang.String">getProtocol</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(file: java.io.File)Unit" id="33400">assertDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="533753">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#533753" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span>, <span title="(x$1: Any)java.lang.String" class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#533753" title="java.io.File">file</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;Not a directory: &quot;)" class="string">&quot;Not a directory: &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;Directory not found: &quot;)" class="string">&quot;Directory not found: &quot;</span><span class="delimiter">)</span> + <a href="#533753" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(file: java.io.File*)Unit" id="33401">assertDirectories</a><span class="delimiter">(</span><a title="java.io.File*" id="533761">file</a>: <span title="java.io.File*">File</span>*<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#533761" title="java.io.File*">file</a>.<span title="(f: (java.io.File) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#33400" title="(file: java.io.File)Unit">assertDirectory</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">// &quot;base.extension&quot; -&gt; (base, extension)</span>
	<span class="keyword">def</span> <a title="(name: String)(String, String)" id="33402">split</a><span class="delimiter">(</span><a title="String" id="533792">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="(String, String)" class="delimiter">(</span>String, String<span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="Int" id="533794">lastDot</a> = <a href="#533792" title="String">name</a>.<span title="(x$1: Int)Int">lastIndexOf</span><span class="delimiter">(</span><span title="Int(46)" class="char">'.'</span><span class="delimiter">)</span>
		<span title="(String, String)" class="keyword">if</span><span class="delimiter">(</span><a href="#533794" title="(x$1: Int)Boolean">lastDot</a> &gt;= <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
			<span title="(_1: java.lang.String,_2: java.lang.String)(java.lang.String, java.lang.String)" class="delimiter">(</span><a href="#533792" title="String">name</a>.<span title="(x$1: Int,x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#533794" title="Int">lastDot</a><span class="delimiter">)</span>, <a href="#533792" title="String">name</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#533794" title="(x$1: Int)Int">lastDot</a>+<span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="keyword">else</span>
			<span title="(_1: String,_2: java.lang.String)(String, java.lang.String)" class="delimiter">(</span><a href="#533792" title="String">name</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(files: Traversable[java.io.File])Unit" id="33403">touch</a><span class="delimiter">(</span><a title="Traversable[java.io.File]" id="487914">files</a>: <span title="Traversable[java.io.File]">Traversable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#487914" title="Traversable[java.io.File]">files</a>.<span title="(f: (java.io.File) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="java.io.File" id="533840">f</a> =&gt; <a href="#33404" title="(file: java.io.File,setModified: Boolean)Unit">touch</a><span class="delimiter">(</span><a href="#533840" title="java.io.File">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="comment">/** Creates a file at the given location.*/</span>
	<span class="keyword">def</span> <a title="(file: java.io.File,setModified: Boolean)Unit" id="33404">touch</a><span class="delimiter">(</span><a title="java.io.File" id="487910">file</a>: <span title="java.io.File">File</span>, <a title="=&gt; Boolean" id="487911">setModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="#33406" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#487910" title="java.io.File">file</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="Boolean" id="533851">created</a> = <a href="ErrorHandling.scala.html#51489" title="(msg: =&gt; String)(f: =&gt; Boolean)Boolean">translate</a><span class="delimiter">(</span><span title="(x$1: Any)java.lang.String" class="string">&quot;Could not create file &quot;</span> + <a href="#487910" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#487910" title="java.io.File">file</a>.<span title="()Boolean">createNewFile</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#533851" title="(x$1: Boolean)Boolean">created</a> || <a href="#487910" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
			<span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
		<span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#487911" title="(x$1: Boolean)Boolean">setModified</a> &amp;&amp; <span title="=&gt; Boolean">!</span><a href="#487910" title="java.io.File">file</a>.<span title="(x$1: Long)Boolean">setLastModified</span><span class="delimiter">(</span><span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span><span class="delimiter">)</span><span class="delimiter">)</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="(x$1: Any)java.lang.String" class="string">&quot;Could not update last modified time for file &quot;</span> + <a href="#487910" title="java.io.File">file</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(dirs: Traversable[java.io.File])Unit" id="33405">createDirectories</a><span class="delimiter">(</span><a title="Traversable[java.io.File]" id="533871">dirs</a>: <span title="Traversable[java.io.File]">Traversable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#533871" title="Traversable[java.io.File]">dirs</a>.<span title="(f: (java.io.File) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#33406" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(dir: java.io.File)Unit" id="33406">createDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="33503">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
	<span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="=&gt; java.lang.String" id="533887">failBase</a> = <span title="(x$1: Any)java.lang.String" class="string">&quot;Could not create directory &quot;</span> + <a href="#33503" title="java.io.File">dir</a>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#33503" title="java.io.File">dir</a>.<span title="(x$1: Boolean)Boolean">isDirectory</span> || <a href="#33503" title="java.io.File">dir</a>.<span title="()Boolean">mkdirs</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
			<span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
		<span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#33503" title="java.io.File">dir</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><a href="#533887" title="(x$1: Any)java.lang.String">failBase</a> + <span title="java.lang.String(&quot;: file exists and is not a directory.&quot;)" class="string">&quot;: file exists and is not a directory.&quot;</span><span class="delimiter">)</span>
		<span class="keyword">else</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><a href="#533887" title="=&gt; java.lang.String">failBase</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Gzips the file 'in' and writes it to 'out'.  'in' cannot be the same file as 'out'. */</span>
	<span class="keyword">def</span> <a title="(in: java.io.File,out: java.io.File)Unit" id="33407">gzip</a><span class="delimiter">(</span><a title="java.io.File" id="533896">in</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="533897">out</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="(requirement: Boolean,message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#533896" title="(x$1: AnyRef)Boolean">in</a> != <a href="#533897" title="java.io.File">out</a>, <span title="java.lang.String(&quot;Input file cannot be the same as the output file.&quot;)" class="string">&quot;Input file cannot be the same as the output file.&quot;</span><span class="delimiter">)</span>
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedInputStream) =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#533896" title="java.io.File">in</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="533913">inputStream</a> =&gt;
			<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#33536" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedOutputStream) =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#533897" title="java.io.File">out</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="533923">outputStream</a> =&gt;
				<a href="#33408" title="(input: java.io.InputStream,output: java.io.OutputStream)Unit">gzip</a><span class="delimiter">(</span><a href="#533913" title="java.io.BufferedInputStream">inputStream</a>, <a href="#533923" title="java.io.BufferedOutputStream">outputStream</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Gzips the InputStream 'in' and writes it to 'output'.  Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(input: java.io.InputStream,output: java.io.OutputStream)Unit" id="33408">gzip</a><span class="delimiter">(</span><a title="java.io.InputStream" id="533927">input</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="533928">output</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#51052" title="(src: java.io.OutputStream)(f: (java.util.zip.GZIPOutputStream) =&gt; Unit)Unit">gzipOutputStream</a><span class="delimiter">(</span><a href="#533928" title="java.io.OutputStream">output</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPOutputStream" id="534168">gzStream</a> =&gt; <a href="#33419" title="(in: java.io.InputStream,out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#533927" title="java.io.InputStream">input</a>, <a href="#534168" title="java.util.zip.GZIPOutputStream">gzStream</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">/** Gunzips the file 'in' and writes it to 'out'.  'in' cannot be the same file as 'out'. */</span>
	<span class="keyword">def</span> <a title="(in: java.io.File,out: java.io.File)Unit" id="33409">gunzip</a><span class="delimiter">(</span><a title="java.io.File" id="534178">in</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="534179">out</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="(requirement: Boolean,message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#534178" title="(x$1: AnyRef)Boolean">in</a> != <a href="#534179" title="java.io.File">out</a>, <span title="java.lang.String(&quot;Input file cannot be the same as the output file.&quot;)" class="string">&quot;Input file cannot be the same as the output file.&quot;</span><span class="delimiter">)</span>
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedInputStream) =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#534178" title="java.io.File">in</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="534287">inputStream</a> =&gt;
			<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#33536" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedOutputStream) =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#534179" title="java.io.File">out</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="534297">outputStream</a> =&gt;
				<a href="#33410" title="(input: java.io.InputStream,output: java.io.OutputStream)Unit">gunzip</a><span class="delimiter">(</span><a href="#534287" title="java.io.BufferedInputStream">inputStream</a>, <a href="#534297" title="java.io.BufferedOutputStream">outputStream</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Gunzips the InputStream 'input' and writes it to 'output'.  Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(input: java.io.InputStream,output: java.io.OutputStream)Unit" id="33410">gunzip</a><span class="delimiter">(</span><a title="java.io.InputStream" id="534301">input</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="534302">output</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#51052" title="(src: java.io.InputStream)(f: (java.util.zip.GZIPInputStream) =&gt; Unit)Unit">gzipInputStream</a><span class="delimiter">(</span><a href="#534301" title="java.io.InputStream">input</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPInputStream" id="534515">gzStream</a> =&gt; <a href="#33419" title="(in: java.io.InputStream,out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#534515" title="java.util.zip.GZIPInputStream">gzStream</a>, <a href="#534302" title="java.io.OutputStream">output</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(from: java.io.File,toDirectory: java.io.File,filter: sbt.NameFilter)Set[java.io.File]" id="33411">unzip</a><span class="delimiter">(</span><a title="java.io.File" id="60531">from</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="60532">toDirectory</a>: <span title="java.io.File">File</span>, <a title="=&gt; sbt.NameFilter" id="60533">filter</a>: <a href="NameFilter.scala.html#10509" title="sbt.NameFilter">NameFilter</a> = <a href="NameFilter.scala.html#10093" title="object sbt.AllPassFilter">AllPassFilter</a><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedInputStream) =&gt; Set[java.io.File])Set[java.io.File]">fileInputStream</a><span class="delimiter">(</span><a href="#60531" title="java.io.File">from</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.BufferedInputStream" id="534533">in</a> =&gt; <a href="#33413" title="(from: java.io.InputStream,toDirectory: java.io.File,filter: sbt.NameFilter)Set[java.io.File]">unzipStream</a><span class="delimiter">(</span><a href="#534533" title="java.io.BufferedInputStream">in</a>, <a href="#60532" title="java.io.File">toDirectory</a>, <a href="#60533" title="sbt.NameFilter">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(from: java.net.URL,toDirectory: java.io.File,filter: sbt.NameFilter)Set[java.io.File]" id="33412">unzipURL</a><span class="delimiter">(</span><a title="java.net.URL" id="253281">from</a>: <span title="java.net.URL">URL</span>, <a title="java.io.File" id="253282">toDirectory</a>: <span title="java.io.File">File</span>, <a title="=&gt; sbt.NameFilter" id="253283">filter</a>: <a href="NameFilter.scala.html#10509" title="sbt.NameFilter">NameFilter</a> = <a href="NameFilter.scala.html#10093" title="object sbt.AllPassFilter">AllPassFilter</a><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="Using.scala.html#51052" title="(src: java.net.URL)(f: (java.io.InputStream) =&gt; Set[java.io.File])Set[java.io.File]">urlInputStream</a><span class="delimiter">(</span><a href="#253281" title="java.net.URL">from</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.InputStream" id="534639">in</a> =&gt; <a href="#33413" title="(from: java.io.InputStream,toDirectory: java.io.File,filter: sbt.NameFilter)Set[java.io.File]">unzipStream</a><span class="delimiter">(</span><a href="#534639" title="java.io.InputStream">in</a>, <a href="#253282" title="java.io.File">toDirectory</a>, <a href="#253283" title="sbt.NameFilter">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(from: java.io.InputStream,toDirectory: java.io.File,filter: sbt.NameFilter)Set[java.io.File]" id="33413">unzipStream</a><span class="delimiter">(</span><a title="java.io.InputStream" id="534534">from</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.File" id="534535">toDirectory</a>: <span title="java.io.File">File</span>, <a title="=&gt; sbt.NameFilter" id="534536">filter</a>: <a href="NameFilter.scala.html#10509" title="sbt.NameFilter">NameFilter</a> = <a href="NameFilter.scala.html#10093" title="object sbt.AllPassFilter">AllPassFilter</a><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<a href="#33406" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#534535" title="java.io.File">toDirectory</a><span class="delimiter">)</span>
		<a href="Using.scala.html#51052" title="(src: java.io.InputStream)(f: (java.util.zip.ZipInputStream) =&gt; scala.collection.immutable.Set[java.io.File])scala.collection.immutable.Set[java.io.File]">zipInputStream</a><span class="delimiter">(</span><a href="#534534" title="java.io.InputStream">from</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.ZipInputStream" id="534730">zipInput</a> =&gt; <a href="#33414" title="(from: java.util.zip.ZipInputStream,toDirectory: java.io.File,filter: sbt.NameFilter)scala.collection.immutable.Set[java.io.File]">extract</a><span class="delimiter">(</span><a href="#534730" title="java.util.zip.ZipInputStream">zipInput</a>, <a href="#534535" title="java.io.File">toDirectory</a>, <a href="#534536" title="sbt.NameFilter">filter</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(from: java.util.zip.ZipInputStream,toDirectory: java.io.File,filter: sbt.NameFilter)scala.collection.immutable.Set[java.io.File]" id="33414">extract</a><span class="delimiter">(</span><a title="java.util.zip.ZipInputStream" id="534731">from</a>: <span title="java.util.zip.ZipInputStream">ZipInputStream</span>, <a title="java.io.File" id="534732">toDirectory</a>: <span title="java.io.File">File</span>, <a title="sbt.NameFilter" id="534733">filter</a>: <a href="NameFilter.scala.html#10509" title="sbt.NameFilter">NameFilter</a><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[java.io.File]" id="534736">set</a> = <span title="scala.collection.mutable.HashSet[java.io.File]" class="keyword">new</span> <span title="scala.collection.mutable.HashSet[java.io.File]">HashSet</span><span class="delimiter">[</span>File<span class="delimiter">]</span>
		<span class="keyword">def</span> <a title="()Unit" id="534737">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="534808">entry</a> = <a href="#534731" title="java.util.zip.ZipInputStream">from</a>.<span title="()java.util.zip.ZipEntry">getNextEntry</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#534808" title="(x$1: AnyRef)Boolean">entry</a> == <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
				<span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
			<span class="keyword">else</span>
			<span class="delimiter">{</span>
				<span class="keyword">val</span> <a title="java.lang.String" id="534815">name</a> = <a href="#534808" title="java.util.zip.ZipEntry">entry</a>.<span title="()java.lang.String">getName</span>
				<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#534733" title="sbt.NameFilter">filter</a>.<a href="NameFilter.scala.html#85032" title="(name: String)Boolean">accept</a><span class="delimiter">(</span><a href="#534815" title="java.lang.String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
				<span class="delimiter">{</span>
					<span class="keyword">val</span> <a title="java.io.File" id="534822">target</a> = <span title="(x$1: java.io.File,x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#534732" title="java.io.File">toDirectory</a>, <a href="#534815" title="java.lang.String">name</a><span class="delimiter">)</span>
					<span class="comment">//log.debug(&quot;Extracting zip entry '&quot; + name + &quot;' to '&quot; + target + &quot;'&quot;)</span>
					<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#534808" title="java.util.zip.ZipEntry">entry</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
						<a href="#33406" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#534822" title="java.io.File">target</a><span class="delimiter">)</span>
					<span class="keyword">else</span>
					<span class="delimiter">{</span>
						<a href="#534736" title="(elem: java.io.File)set.type">set</a> += <a href="#534822" title="java.io.File">target</a>
						<a href="ErrorHandling.scala.html#51489" title="(msg: =&gt; String)(f: =&gt; Unit)Unit">translate</a><span class="delimiter">(</span><span title="(x$1: Any)java.lang.String" class="string">&quot;Error extracting zip entry '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#534815" title="java.lang.String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' to '&quot;)" class="string">&quot;' to '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#534822" title="java.io.File">target</a> + <span title="java.lang.String(&quot;': &quot;)" class="string">&quot;': &quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
							<a href="Using.scala.html#33536" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedOutputStream) =&gt; Unit)Unit" class="delimiter">(</a><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#534822" title="java.io.File">target</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="534858">out</a> =&gt; <a href="#33419" title="(in: java.io.InputStream,out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#534731" title="java.util.zip.ZipInputStream">from</a>, <a href="#534858" title="java.io.BufferedOutputStream">out</a><span class="delimiter">)</span> <span class="delimiter">}</span>
						<span class="delimiter">}</span>
					<span class="delimiter">}</span>
					<span class="comment">//target.setLastModified(entry.getTime)</span>
				<span class="delimiter">}</span>
				<span class="keyword">else</span>
				<span title="Unit" class="delimiter">{</span>
					<span class="comment">//log.debug(&quot;Ignoring zip entry '&quot; + name + &quot;'&quot;)</span>
				<span class="delimiter">}</span>
				<a href="#534731" title="java.util.zip.ZipInputStream">from</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
				<a href="#534737" title="()Unit">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
		<a href="#534737" title="()Unit">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
		<span title="(elems: java.io.File*)scala.collection.immutable.Set[java.io.File]">Set</span><span title="(xs: scala.collection.TraversableOnce[java.io.File])scala.collection.immutable.Set[java.io.File]" class="delimiter">(</span><span class="delimiter">)</span> ++ <a href="#534736" title="scala.collection.mutable.HashSet[java.io.File]">set</a>
	<span class="delimiter">}</span>

	<span class="comment">/** Retrieves the content of the given URL and writes it to the given File. */</span>
	<span class="keyword">def</span> <a title="(url: java.net.URL,to: java.io.File)Unit" id="33415">download</a><span class="delimiter">(</span><a title="java.net.URL" id="535018">url</a>: <span title="java.net.URL">URL</span>, <a title="java.io.File" id="535019">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> =
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#51052" title="(src: java.net.URL)(f: (java.io.InputStream) =&gt; Unit)Unit">urlInputStream</a><span class="delimiter">(</span><a href="#535018" title="java.net.URL">url</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.InputStream" id="535030">inputStream</a> =&gt;
			<a href="#33418" title="(in: java.io.InputStream,to: java.io.File)Unit">transfer</a><span class="delimiter">(</span><a href="#535030" title="java.io.InputStream">inputStream</a>, <a href="#535019" title="java.io.File">to</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(in: java.io.File,out: java.io.File)Unit" id="33416">transfer</a><span class="delimiter">(</span><a title="java.io.File" id="489978">in</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="489979">out</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedInputStream) =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#489978" title="java.io.File">in</a><span class="delimiter">)</span><span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="535048">in</a> =&gt; <a href="#33418" title="(in: java.io.InputStream,to: java.io.File)Unit">transfer</a><span class="delimiter">(</span><a href="#535048" title="java.io.BufferedInputStream">in</a>, <a href="#489979" title="java.io.File">out</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(in: java.io.File,out: java.io.OutputStream)Unit" id="33417">transfer</a><span class="delimiter">(</span><a title="java.io.File" id="489975">in</a>: <span title="java.io.File">File</span>, <a title="java.io.OutputStream" id="489976">out</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedInputStream) =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#489975" title="java.io.File">in</a><span class="delimiter">)</span><span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="535064">in</a> =&gt; <a href="#33419" title="(in: java.io.InputStream,out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#535064" title="java.io.BufferedInputStream">in</a>, <a href="#489976" title="java.io.OutputStream">out</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">/** Copies all bytes from the given input stream to the given File.*/</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream,to: java.io.File)Unit" id="33418">transfer</a><span class="delimiter">(</span><a title="java.io.InputStream" id="489972">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.File" id="489973">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#33536" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedOutputStream) =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#489973" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="535083">outputStream</a> =&gt;
			<a href="#33419" title="(in: java.io.InputStream,out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#489972" title="java.io.InputStream">in</a>, <a href="#535083" title="java.io.BufferedOutputStream">outputStream</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>

	<span class="comment">/** Copies all bytes from the given input stream to the given output stream.
	* Neither stream is closed.*/</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream,out: java.io.OutputStream)Unit" id="33419">transfer</a><span class="delimiter">(</span><a title="java.io.InputStream" id="489969">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="489970">out</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#33421" title="(in: java.io.InputStream,out: java.io.OutputStream,close: Boolean)Unit">transferImpl</a><span class="delimiter">(</span><a href="#489969" title="java.io.InputStream">in</a>, <a href="#489970" title="java.io.OutputStream">out</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
	<span class="comment">/** Copies all bytes from the given input stream to the given output stream.  The
	* input stream is closed after the method completes.*/</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream,out: java.io.OutputStream)Unit" id="33420">transferAndClose</a><span class="delimiter">(</span><a title="java.io.InputStream" id="535098">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="535099">out</a>: <span title="java.io.OutputStream">OutputStream</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#33421" title="(in: java.io.InputStream,out: java.io.OutputStream,close: Boolean)Unit">transferImpl</a><span class="delimiter">(</span><a href="#535098" title="java.io.InputStream">in</a>, <a href="#535099" title="java.io.OutputStream">out</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: java.io.InputStream,out: java.io.OutputStream,close: Boolean)Unit" id="33421">transferImpl</a><span class="delimiter">(</span><a title="java.io.InputStream" id="535093">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="java.io.OutputStream" id="535094">out</a>: <span title="java.io.OutputStream">OutputStream</span>, <a title="Boolean" id="535095">close</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">try</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="Array[Byte]" id="535102">buffer</a> = <span title="Array[Byte]" class="keyword">new</span> <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">(</span><a href="#33384" title="=&gt; Int">BufferSize</a><span class="delimiter">)</span>
			<span class="keyword">def</span> <a title="()Unit" id="535103">read</a><span class="delimiter">(</span><span class="delimiter">)</span>
			<span class="delimiter">{</span>
				<span class="keyword">val</span> <a title="Int" id="535107">byteCount</a> = <a href="#535093" title="java.io.InputStream">in</a>.<span title="(x$1: Array[Byte])Int">read</span><span class="delimiter">(</span><a href="#535102" title="Array[Byte]">buffer</a><span class="delimiter">)</span>
				<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#535107" title="(x$1: Int)Boolean">byteCount</a> &gt;= <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
				<span class="delimiter">{</span>
					<a href="#535094" title="java.io.OutputStream">out</a>.<span title="(x$1: Array[Byte],x$2: Int,x$3: Int)Unit">write</span><span class="delimiter">(</span><a href="#535102" title="Array[Byte]">buffer</a>, <span title="Int(0)" class="int">0</span>, <a href="#535107" title="Int">byteCount</a><span class="delimiter">)</span>
					<a href="#535103" title="()Unit">read</a><span class="delimiter">(</span><span class="delimiter">)</span>
				<span class="delimiter">}</span>
			<span class="delimiter">}</span>
			<a href="#535103" title="()Unit">read</a><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<span class="keyword">finally</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#535095" title="Boolean">close</a><span class="delimiter">)</span> <a href="#535093" title="java.io.InputStream">in</a>.<span title="()Unit">close</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Creates a temporary directory and provides its location to the given function.  The directory
	* is deleted after the function returns.*/</span>
	<span class="keyword">def</span> <a title="[T](action: (java.io.File) =&gt; T)T" id="33422">withTemporaryDirectory</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33424">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(java.io.File) =&gt; T" id="59913">action</a>: File =&gt; T<span class="delimiter">)</span>: <a href="#33424" title="T">T</a> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.File" id="535191">dir</a> = <a href="#33425" title="=&gt; java.io.File">createTemporaryDirectory</a>
		<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#59913" title="(v1: java.io.File)T">action</a><span class="delimiter">(</span><a href="#535191" title="java.io.File">dir</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#33432" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#535191" title="java.io.File">dir</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="=&gt; java.io.File" id="33425">createTemporaryDirectory</a>: <span title="java.io.File">File</span> =
	<span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="(tries: Int)java.io.File" id="535202">create</a><span class="delimiter">(</span><a title="Int" id="535203">tries</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
		<span class="delimiter">{</span>
			<span title="java.io.File" class="keyword">if</span><span class="delimiter">(</span><a href="#535203" title="(x$1: Int)Boolean">tries</a> &gt; <a href="#33378" title="=&gt; Int">MaximumTries</a><span class="delimiter">)</span>
				<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Could not create temporary directory.&quot;)" class="string">&quot;Could not create temporary directory.&quot;</span><span class="delimiter">)</span>
			<span class="keyword">else</span>
			<span class="delimiter">{</span>
				<span class="keyword">val</span> <a title="java.lang.String" id="535210">randomName</a> = <span title="(x$1: Any)java.lang.String" class="string">&quot;sbt_&quot;</span> + java.lang.<span title="object java.lang.Integer">Integer</span>.<span title="(x$1: Int)java.lang.String">toHexString</span><span class="delimiter">(</span><a href="#33380" title="=&gt; java.util.Random">random</a>.<span title="()Int">nextInt</span><span class="delimiter">)</span>
				<span class="keyword">val</span> <a title="java.io.File" id="535211">f</a> = <span title="(x$1: java.io.File,x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#33382" title="=&gt; java.io.File">temporaryDirectory</a>, <a href="#535210" title="java.lang.String">randomName</a><span class="delimiter">)</span>

				<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#33406" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#535211" title="java.io.File">f</a><span class="delimiter">)</span>; <a href="#535211" title="java.io.File">f</a> <span class="delimiter">}</span>
				<span class="keyword">catch</span> <span class="delimiter">{</span> <span title="java.io.File" class="keyword">case</span> <a title="Exception" id="535223">e</a>: <span title="Exception">Exception</span> =&gt; <a href="#535202" title="(tries: Int)java.io.File">create</a><span class="delimiter">(</span><a href="#535203" title="(x$1: Int)Int">tries</a> + <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">}</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
		<a href="#535202" title="(tries: Int)java.io.File">create</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="[T](prefix: String,postfix: String)(action: (java.io.File) =&gt; T)T" id="33426">withTemporaryFile</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33428">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="535231">prefix</a>: <span title="String">String</span>, <a title="String" id="535232">postfix</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(java.io.File) =&gt; T" id="535233">action</a>: File =&gt; T<span class="delimiter">)</span>: <a href="#33428" title="T">T</a> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.File" id="535236">file</a> = <span title="object java.io.File">File</span>.<span title="(x$1: java.lang.String,x$2: java.lang.String)java.io.File">createTempFile</span><span class="delimiter">(</span><a href="#535231" title="String">prefix</a>, <a href="#535232" title="String">postfix</a><span class="delimiter">)</span>
		<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#535233" title="(v1: java.io.File)T">action</a><span class="delimiter">(</span><a href="#535236" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#535236" title="java.io.File">file</a>.<span title="()Boolean">delete</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(dir: java.io.File)Iterable[java.io.File]" id="33429">jars</a><span class="delimiter">(</span><a title="java.io.File" id="535243">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#33434" title="(dir: java.io.File,filter: java.io.FileFilter)Array[java.io.File]">listFiles</a><span title="(xs: Array[java.io.File])scala.collection.mutable.WrappedArray[java.io.File]" class="delimiter">(</span><a href="#535243" title="java.io.File">dir</a>, <a href="NameFilter.scala.html#85026" title="(expression: String)sbt.NameFilter">GlobFilter</a><span class="delimiter">(</span><span title="java.lang.String(&quot;*.jar&quot;)" class="string">&quot;*.jar&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(dirs: scala.collection.Set[java.io.File])Unit" id="33430">deleteIfEmpty</a><span class="delimiter">(</span><a title="scala.collection.Set[java.io.File]" id="464001">dirs</a>: collection.<span title="scala.collection.Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[java.io.File,Boolean]" id="535316">isEmpty</a> = <span title="scala.collection.mutable.HashMap[java.io.File,Boolean]" class="keyword">new</span> <span title="scala.collection.mutable.HashMap[java.io.File,Boolean]">HashMap</span><span class="delimiter">[</span>File, Boolean<span class="delimiter">]</span>
		<span class="keyword">def</span> <a title="(f: java.io.File)Boolean" id="535317">visit</a><span class="delimiter">(</span><a title="java.io.File" id="535319">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#535316" title="scala.collection.mutable.HashMap[java.io.File,Boolean]">isEmpty</a>.<span title="(key: java.io.File,op: =&gt; Boolean)Boolean">getOrElseUpdate</span><span class="delimiter">(</span><a href="#535319" title="java.io.File">f</a>, <a href="#464001" title="(elem: java.io.File)Boolean">dirs</a><span title="(x$1: Boolean)Boolean" class="delimiter">(</span><a href="#535319" title="java.io.File">f</a><span class="delimiter">)</span> <span title="(x$1: Boolean)Boolean">&amp;&amp;</span> <a href="#535319" title="java.io.File">f</a>.<span title="()Boolean">isDirectory</span> &amp;&amp; <span class="delimiter">(</span><a href="#535319" title="java.io.File">f</a>.<span title="(p: (java.io.File) =&gt; Boolean)Boolean">listFiles</span> forall <a href="#535317" title="(f: java.io.File)Boolean">visit</a><span class="delimiter">)</span> <span class="delimiter">)</span>

		<a href="#464001" title="(f: (java.io.File) =&gt; Boolean)Unit">dirs</a> foreach <a href="#535317" title="(f: java.io.File)Boolean">visit</a>
		<span class="keyword">for</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="java.io.File" id="535759">f</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> &lt;- <a href="#535316" title="(f: ((java.io.File, Boolean)) =&gt; Boolean)Unit">isEmpty</a><span class="delimiter">)</span> <a href="#535759" title="java.io.File">f</a>.<span title="()Boolean">delete</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(files: Iterable[java.io.File])Unit" id="33431">delete</a><span class="delimiter">(</span><a title="Iterable[java.io.File]" id="53284">files</a>: <span title="Iterable[java.io.File]">Iterable</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#53284" title="Iterable[java.io.File]">files</a>.<span title="(f: (java.io.File) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#33432" title="(file: java.io.File)Unit">delete</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(file: java.io.File)Unit" id="33432">delete</a><span class="delimiter">(</span><a title="java.io.File" id="53282">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="ErrorHandling.scala.html#51489" title="(msg: =&gt; String)(f: =&gt; AnyVal)AnyVal">translate</a><span class="delimiter">(</span><span title="(x$1: Any)java.lang.String" class="string">&quot;Error deleting file &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#53282" title="java.io.File">file</a> + <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span class="delimiter">)</span>
		<span title="Unit" class="delimiter">{</span>
			<span title="AnyVal" class="keyword">if</span><span class="delimiter">(</span><a href="#53282" title="java.io.File">file</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
			<span class="delimiter">{</span>
				<a href="#33431" title="(files: Iterable[java.io.File])Unit">delete</a><span class="delimiter">(</span><a href="#33435" title="(dir: java.io.File)Array[java.io.File]">listFiles</a><span title="(xs: Array[java.io.File])scala.collection.mutable.WrappedArray[java.io.File]" class="delimiter">(</span><a href="#53282" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
				<a href="#53282" title="java.io.File">file</a>.<span title="()Boolean">delete</span>
			<span class="delimiter">}</span>
			<span class="keyword">else</span> <span title="AnyVal" class="keyword">if</span><span class="delimiter">(</span><a href="#53282" title="java.io.File">file</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span>
				<a href="#53282" title="java.io.File">file</a>.<span title="()Boolean">delete</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(filter: java.io.FileFilter)(dir: java.io.File)Array[java.io.File]" id="33433">listFiles</a><span class="delimiter">(</span><a title="java.io.FileFilter" id="535290">filter</a>: java.io.<span title="java.io.FileFilter">FileFilter</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File" id="535291">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#33436" title="(a: Array[java.io.File])Array[java.io.File]">wrapNull</a><span class="delimiter">(</span><a href="#535291" title="java.io.File">dir</a>.<span title="(x$1: java.io.FileFilter)Array[java.io.File]">listFiles</span><span class="delimiter">(</span><a href="#535290" title="java.io.FileFilter">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(dir: java.io.File,filter: java.io.FileFilter)Array[java.io.File]" id="33434">listFiles</a><span class="delimiter">(</span><a title="java.io.File" id="535250">dir</a>: <span title="java.io.File">File</span>, <a title="java.io.FileFilter" id="535251">filter</a>: java.io.<span title="java.io.FileFilter">FileFilter</span><span class="delimiter">)</span>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#33436" title="(a: Array[java.io.File])Array[java.io.File]">wrapNull</a><span class="delimiter">(</span><a href="#535250" title="java.io.File">dir</a>.<span title="(x$1: java.io.FileFilter)Array[java.io.File]">listFiles</span><span class="delimiter">(</span><a href="#535251" title="java.io.FileFilter">filter</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(dir: java.io.File)Array[java.io.File]" id="33435">listFiles</a><span class="delimiter">(</span><a title="java.io.File" id="535248">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#33436" title="(a: Array[java.io.File])Array[java.io.File]">wrapNull</a><span class="delimiter">(</span><a href="#535248" title="java.io.File">dir</a>.<span title="()Array[java.io.File]">listFiles</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="keyword">private</span><span class="delimiter">[</span>sbt<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(a: Array[java.io.File])Array[java.io.File]" id="33436">wrapNull</a><span class="delimiter">(</span><a title="Array[java.io.File]" id="535861">a</a>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span title="Array[java.io.File]" class="keyword">if</span><span class="delimiter">(</span><a href="#535861" title="(x$1: AnyRef)Boolean">a</a> == <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
			<span title="Array[java.io.File]" class="keyword">new</span> <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
		<span class="keyword">else</span>
			<a href="#535861" title="Array[java.io.File]">a</a>
	<span class="delimiter">}</span>


	<span class="comment">/** Creates a jar file.
	* @param sources The files to include in the jar file paired with the entry name in the jar.
	* @param outputJar The file to write the jar to.
	* @param manifest The manifest for the jar.*/</span>
	<span class="keyword">def</span> <a title="(sources: Traversable[(java.io.File, String)],outputJar: java.io.File,manifest: java.util.jar.Manifest)Unit" id="33437">jar</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, String)]" id="463605">sources</a>: <span title="Traversable[(java.io.File, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.io.File" id="463606">outputJar</a>: <span title="java.io.File">File</span>, <a title="java.util.jar.Manifest" id="463607">manifest</a>: <span title="java.util.jar.Manifest">Manifest</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#33439" title="(sources: Seq[(java.io.File, String)],outputFile: java.io.File,manifest: Option[java.util.jar.Manifest])Unit">archive</a><span class="delimiter">(</span><a href="#463605" title="Traversable[(java.io.File, String)]">sources</a>.<span title="=&gt; Seq[(java.io.File, String)]">toSeq</span>, <a href="#463606" title="java.io.File">outputJar</a>, <span title="(x: java.util.jar.Manifest)Some[java.util.jar.Manifest]">Some</span><span class="delimiter">(</span><a href="#463607" title="java.util.jar.Manifest">manifest</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="comment">/** Creates a zip file.
	* @param sources The files to include in the zip file paired with the entry name in the zip.
	* @param outputZip The file to write the zip to.*/</span>
	<span class="keyword">def</span> <a title="(sources: Traversable[(java.io.File, String)],outputZip: java.io.File)Unit" id="33438">zip</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, String)]" id="60837">sources</a>: <span title="Traversable[(java.io.File, String)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.io.File" id="60838">outputZip</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#33439" title="(sources: Seq[(java.io.File, String)],outputFile: java.io.File,manifest: Option[java.util.jar.Manifest])Unit">archive</a><span class="delimiter">(</span><a href="#60837" title="Traversable[(java.io.File, String)]">sources</a>.<span title="=&gt; Seq[(java.io.File, String)]">toSeq</span>, <a href="#60838" title="java.io.File">outputZip</a>, <span title="object None">None</span><span class="delimiter">)</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sources: Seq[(java.io.File, String)],outputFile: java.io.File,manifest: Option[java.util.jar.Manifest])Unit" id="33439">archive</a><span class="delimiter">(</span><a title="Seq[(java.io.File, String)]" id="535888">sources</a>: <span title="Seq[(java.io.File, String)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.io.File" id="535889">outputFile</a>: <span title="java.io.File">File</span>, <a title="Option[java.util.jar.Manifest]" id="535890">manifest</a>: <span title="Option[java.util.jar.Manifest]">Option</span><span class="delimiter">[</span>Manifest<span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#535889" title="java.io.File">outputFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="(x$1: Any)java.lang.String" class="string">&quot;Specified output file &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#535889" title="java.io.File">outputFile</a> + <span title="java.lang.String(&quot; is a directory.&quot;)" class="string">&quot; is a directory.&quot;</span><span class="delimiter">)</span>
		<span class="keyword">else</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.io.File" id="535902">outputDir</a> = <a href="#535889" title="java.io.File">outputFile</a>.<span title="()java.io.File">getParentFile</span>
			<a href="#33406" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#535902" title="java.io.File">outputDir</a><span class="delimiter">)</span>
			<a href="#33447" title="(file: java.io.File,manifest: Option[java.util.jar.Manifest])(f: (java.util.zip.ZipOutputStream) =&gt; Unit)Unit">withZipOutput</a><span class="delimiter">(</span><a href="#535889" title="java.io.File">outputFile</a>, <a href="#535890" title="Option[java.util.jar.Manifest]">manifest</a><span class="delimiter">)</span>
			<span class="delimiter">{</span> <a title="java.util.zip.ZipOutputStream" id="535935">output</a> =&gt;
				<span class="keyword">val</span> <a title="(String) =&gt; java.util.zip.ZipEntry" id="535936">createEntry</a>: <span class="delimiter">(</span>String =&gt; ZipEntry<span class="delimiter">)</span> = <span title="(String) =&gt; java.util.zip.ZipEntry" class="keyword">if</span><span class="delimiter">(</span><a href="#535890" title="Option[java.util.jar.Manifest]">manifest</a>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <span title="java.util.jar.JarEntry" class="keyword">new</span> <span title="java.util.jar.JarEntry">JarEntry</span><span class="delimiter">(</span><a href="#535938" title="String">_</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="java.util.zip.ZipEntry" class="keyword">new</span> <span title="java.util.zip.ZipEntry">ZipEntry</span><span class="delimiter">(</span><a href="#535957" title="String">_</a><span class="delimiter">)</span>
				<a href="#33440" title="(sources: Seq[(java.io.File, String)],output: java.util.zip.ZipOutputStream)(createEntry: (String) =&gt; java.util.zip.ZipEntry)Unit">writeZip</a><span class="delimiter">(</span><a href="#535888" title="Seq[(java.io.File, String)]">sources</a>, <a href="#535935" title="java.util.zip.ZipOutputStream">output</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#535936" title="(String) =&gt; java.util.zip.ZipEntry">createEntry</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(sources: Seq[(java.io.File, String)],output: java.util.zip.ZipOutputStream)(createEntry: (String) =&gt; java.util.zip.ZipEntry)Unit" id="33440">writeZip</a><span class="delimiter">(</span><a title="Seq[(java.io.File, String)]" id="535963">sources</a>: <span title="Seq[(java.io.File, String)]">Seq</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="java.util.zip.ZipOutputStream" id="535964">output</a>: <span title="java.util.zip.ZipOutputStream">ZipOutputStream</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(String) =&gt; java.util.zip.ZipEntry" id="535965">createEntry</a>: String =&gt; ZipEntry<span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="Seq[(java.io.File, String)]" id="535970">files</a> = <a href="#535963" title="Seq[(java.io.File, String)]">sources</a>.<span title="(f: ((java.io.File, String)) =&gt; Traversable[(java.io.File, String)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(java.io.File, String)],(java.io.File, String),Seq[(java.io.File, String)]])Seq[(java.io.File, String)]">flatMap</span> <a href="#535989" title="List[(java.io.File, String)]" class="delimiter">{</a> <span title="List[(java.io.File, String)]" class="keyword">case</span> <span class="delimiter">(</span><a title="java.io.File" id="535992">file</a>,<a title="String" id="535993">name</a><span class="delimiter">)</span> =&gt; <span title="List[(java.io.File, String)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#535992" title="java.io.File">file</a>.<span title="()Boolean">isFile</span><span class="delimiter">)</span> <span title="(_1: java.io.File,_2: String)(java.io.File, String)" class="delimiter">(</span><a href="#535992" title="java.io.File">file</a>, <a href="#33446" title="(name: String)String">normalizeName</a><span class="delimiter">(</span><a href="#535993" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#535996" title="(java.io.File, String)">::</a> <span title="(x: (java.io.File, String))List[(java.io.File, String)]">Nil</span> <span class="keyword">else</span> <span title="object Nil">Nil</span> <span class="delimiter">}</span>

		<span class="keyword">val</span> <a title="Long" id="535971">now</a> = <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span>
		<span class="comment">// The CRC32 for an empty value, needed to store directories in zip files</span>
		<span class="keyword">val</span> <a title="Long" id="535972">emptyCRC</a> = <span title="java.util.zip.CRC32" class="keyword">new</span> <span title="java.util.zip.CRC32">CRC32</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="()Long">getValue</span><span class="delimiter">(</span><span class="delimiter">)</span>

		<span class="keyword">def</span> <a title="(name: String)Unit" id="535973">addDirectoryEntry</a><span class="delimiter">(</span><a title="String" id="536111">name</a>: <span title="String">String</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<a href="#535964" title="(x$1: java.util.zip.ZipEntry)Unit">output</a> putNextEntry <a href="#535974" title="(name: String)java.util.zip.ZipEntry">makeDirectoryEntry</a><span class="delimiter">(</span><a href="#536111" title="String">name</a><span class="delimiter">)</span>
			<a href="#535964" title="java.util.zip.ZipOutputStream">output</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<span class="keyword">def</span> <a title="(name: String)java.util.zip.ZipEntry" id="535974">makeDirectoryEntry</a><span class="delimiter">(</span><a title="String" id="536112">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
		<span class="delimiter">{</span>
<span class="comment">//			log.debug(&quot;\tAdding directory &quot; + relativePath + &quot; ...&quot;)</span>
			<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="536113">e</a> = <a href="#535965" title="(v1: String)java.util.zip.ZipEntry">createEntry</a><span class="delimiter">(</span><a href="#536112" title="String">name</a><span class="delimiter">)</span>
			<a href="#536113" title="(x$1: Long)Unit">e</a> setTime <a href="#535971" title="Long">now</a>
			<a href="#536113" title="(x$1: Long)Unit">e</a> setSize <span title="Long(0L)" class="int">0</span>
			<a href="#536113" title="(x$1: Int)Unit">e</a> setMethod ZipEntry.<span title="Int(0)">STORED</span>
			<a href="#536113" title="(x$1: Long)Unit">e</a> setCrc <a href="#535972" title="Long">emptyCRC</a>
			<a href="#536113" title="java.util.zip.ZipEntry">e</a>
		<span class="delimiter">}</span>

		<span class="keyword">def</span> <a title="(file: java.io.File,name: String)java.util.zip.ZipEntry" id="535975">makeFileEntry</a><span class="delimiter">(</span><a title="java.io.File" id="536123">file</a>: <span title="java.io.File">File</span>, <a title="String" id="536124">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
		<span class="delimiter">{</span>
<span class="comment">//			log.debug(&quot;\tAdding &quot; + file + &quot; as &quot; + name + &quot; ...&quot;)</span>
			<span class="keyword">val</span> <a title="java.util.zip.ZipEntry" id="536125">e</a> = <a href="#535965" title="(v1: String)java.util.zip.ZipEntry">createEntry</a><span class="delimiter">(</span><a href="#536124" title="String">name</a><span class="delimiter">)</span>
			<a href="#536125" title="(x$1: Long)Unit">e</a> setTime <a href="#536123" title="java.io.File">file</a>.<span title="()Long">lastModified</span>
			<a href="#536125" title="java.util.zip.ZipEntry">e</a>
		<span class="delimiter">}</span>
		<span class="keyword">def</span> <a title="(file: java.io.File,name: String)Unit" id="535976">addFileEntry</a><span class="delimiter">(</span><a title="java.io.File" id="536129">file</a>: <span title="java.io.File">File</span>, <a title="String" id="536130">name</a>: <span title="String">String</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<a href="#535964" title="(x$1: java.util.zip.ZipEntry)Unit">output</a> putNextEntry <a href="#535975" title="(file: java.io.File,name: String)java.util.zip.ZipEntry">makeFileEntry</a><span class="delimiter">(</span><a href="#536129" title="java.io.File">file</a>, <a href="#536130" title="String">name</a><span class="delimiter">)</span>
			<a href="#33417" title="(in: java.io.File,out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#536129" title="java.io.File">file</a>, <a href="#535964" title="java.util.zip.ZipOutputStream">output</a><span class="delimiter">)</span>
			<a href="#535964" title="java.util.zip.ZipOutputStream">output</a>.<span title="()Unit">closeEntry</span><span class="delimiter">(</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<span class="comment">//Calculate directories and add them to the generated Zip</span>
		<a href="#33444" title="(files: Iterable[(java.io.File, String)])scala.collection.immutable.TreeSet[String]">allDirectoryPaths</a><span title="(f: (String) =&gt; Unit)Unit" class="delimiter">(</span><a href="#535970" title="Seq[(java.io.File, String)]">files</a><span class="delimiter">)</span> foreach <a href="#535973" title="(name: String)Unit">addDirectoryEntry</a>

		<span class="comment">//Add all files to the generated Zip</span>
		<a href="#535970" title="(f: ((java.io.File, String)) =&gt; Unit)Unit">files</a> foreach <a href="#536781" title="Unit" class="delimiter">{</a> <span title="Unit" class="keyword">case</span> <span class="delimiter">(</span><a title="java.io.File" id="536784">file</a>, <a title="String" id="536785">name</a><span class="delimiter">)</span> =&gt; <a href="#535976" title="(file: java.io.File,name: String)Unit">addFileEntry</a><span class="delimiter">(</span><a href="#536784" title="java.io.File">file</a>, <a href="#536785" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="comment">// map a path a/b/c to List(&quot;a&quot;, &quot;b&quot;)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String)List[String]" id="33441">relativeComponents</a><span class="delimiter">(</span><a title="String" id="536790">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="#536790" title="String">path</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>.<span title="=&gt; List[java.lang.String]">toList</span>.<span title="(n: Int)List[java.lang.String]">dropRight</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

	<span class="comment">// map components List(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) to List(&quot;a/b/c/&quot;, &quot;a/b/&quot;, &quot;a/&quot;, &quot;&quot;)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: List[String])List[String]" id="33442">directories</a><span class="delimiter">(</span><a title="List[String]" id="537014">path</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="#537014" title="List[String]">path</a>.<span title="(z: List[java.lang.String])(f: (List[java.lang.String], String) =&gt; List[java.lang.String])List[java.lang.String]">foldLeft</span><span class="delimiter">(</span><span title="(xs: java.lang.String*)List[java.lang.String]">List</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="List[java.lang.String]" id="537037">e</a>,<a title="String" id="537038">l</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><a href="#537037" title="List[java.lang.String]">e</a>.<span title="(x$1: Any)java.lang.String">head</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#537038" title="String">l</a> + <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> <a href="#537039" title="java.lang.String">::</a> <a href="#537037" title="(x: java.lang.String)List[java.lang.String]">e</a> <span class="delimiter">)</span>

	<span class="comment">// map a path a/b/c to List(&quot;a/b/&quot;, &quot;a/&quot;)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String)List[String]" id="33443">directoryPaths</a><span class="delimiter">(</span><a title="String" id="536450">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="#33442" title="(path: List[String])List[String]">directories</a><span class="delimiter">(</span><a href="#33441" title="(path: String)List[String]">relativeComponents</a><span class="delimiter">(</span><a href="#536450" title="String">path</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(p: (String) =&gt; Boolean)List[String]">filter</span><span class="delimiter">(</span><a href="#537061" title="String">_</a>.<span title="(x$1: Int)Boolean">length</span> &gt; <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

	<span class="comment">// produce a sorted list of all the subdirectories of all provided files</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(files: Iterable[(java.io.File, String)])scala.collection.immutable.TreeSet[String]" id="33444">allDirectoryPaths</a><span class="delimiter">(</span><a title="Iterable[(java.io.File, String)]" id="536140">files</a>: <span title="Iterable[(java.io.File, String)]">Iterable</span><span class="delimiter">[</span><span class="delimiter">(</span>File,String<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> =
		<span title="[A](elems: A*)(implicit ord: Ordering[A])scala.collection.immutable.TreeSet[A]">TreeSet</span><span title="(elems: String*)(implicit ord: Ordering[String])scala.collection.immutable.TreeSet[String]" class="delimiter">[</span><span title="String">String</span><span class="delimiter">]</span><span title="(xs: scala.collection.TraversableOnce[String])scala.collection.immutable.TreeSet[String]" class="delimiter">(</span><span class="delimiter">)</span> ++ <span class="delimiter">(</span><a href="#536140" title="(f: ((java.io.File, String)) =&gt; Traversable[String])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[(java.io.File, String)],String,Iterable[String]])Iterable[String]">files</a> <span title="scala.collection.generic.CanBuildFrom[scala.collection.Iterable.Coll,String,Iterable[String]]">flatMap</span> <a href="#536444" title="List[String]" class="delimiter">{</a> <span title="List[String]" class="keyword">case</span> <span class="delimiter">(</span><a title="java.io.File" id="536447">file</a>, <a title="String" id="536448">name</a><span class="delimiter">)</span> =&gt; <a href="#33443" title="(path: String)List[String]">directoryPaths</a><span class="delimiter">(</span><a href="#536448" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)String" id="33445">normalizeDirName</a><span class="delimiter">(</span><a title="String" id="537069">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="String" id="537072">norm1</a> = <a href="#33446" title="(name: String)String">normalizeName</a><span class="delimiter">(</span><a href="#537069" title="String">name</a><span class="delimiter">)</span>
		<span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#537072" title="String">norm1</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#537072" title="String">norm1</a> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#537072" title="(x$1: Any)java.lang.String">norm1</a> + <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)String" id="33446">normalizeName</a><span class="delimiter">(</span><a title="String" id="536001">name</a>: <span title="String">String</span><span class="delimiter">)</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="Char" id="536004">sep</a> = <span title="object java.io.File">File</span>.<span title="Char">separatorChar</span>
		<span title="String" class="keyword">if</span><span class="delimiter">(</span><a href="#536004" title="(x$1: Char)Boolean">sep</a> == <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span> <a href="#536001" title="String">name</a> <span class="keyword">else</span> <a href="#536001" title="String">name</a>.<span title="(x$1: Char,x$2: Char)java.lang.String">replace</span><span class="delimiter">(</span><a href="#536004" title="Char">sep</a>, <span title="Char('/')" class="char">'/'</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(file: java.io.File,manifest: Option[java.util.jar.Manifest])(f: (java.util.zip.ZipOutputStream) =&gt; Unit)Unit" id="33447">withZipOutput</a><span class="delimiter">(</span><a title="java.io.File" id="535905">file</a>: <span title="java.io.File">File</span>, <a title="Option[java.util.jar.Manifest]" id="535906">manifest</a>: <span title="Option[java.util.jar.Manifest]">Option</span><span class="delimiter">[</span>Manifest<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(java.util.zip.ZipOutputStream) =&gt; Unit" id="535907">f</a>: ZipOutputStream =&gt; Unit<span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<a href="Using.scala.html#33536" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedOutputStream) =&gt; Unit)Unit" class="delimiter">(</a><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#535905" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="537083">fileOut</a> =&gt;
			<span class="keyword">val</span> <a href="#537085" title="(java.util.zip.ZipOutputStream, java.lang.String)" class="delimiter">(</a><a href="#537084" title="java.util.zip.ZipOutputStream" id="537085">zipOut</a>, <a href="#537084" title="java.lang.String" id="537086">ext</a><span class="delimiter">)</span> =
				<a href="#535906" title="Option[java.util.jar.Manifest]">manifest</a> <span title="(java.util.zip.ZipOutputStream, java.lang.String)" class="keyword">match</span>
				<span class="delimiter">{</span>
					<span title="(java.util.jar.JarOutputStream, java.lang.String)" class="keyword">case</span> Some<span class="delimiter">(</span><a title="java.util.jar.Manifest" id="537088">mf</a><span class="delimiter">)</span> =&gt;
					<span class="delimiter">{</span>
						<span class="keyword">import</span> Attributes.Name.MANIFEST_VERSION
						<span class="keyword">val</span> <a title="java.util.jar.Attributes" id="537091">main</a> = <a href="#537088" title="java.util.jar.Manifest">mf</a>.<span title="()java.util.jar.Attributes">getMainAttributes</span>
						<span title="Any" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#537091" title="java.util.jar.Attributes">main</a>.<span title="(x$1: Any)Boolean">containsKey</span><span class="delimiter">(</span><span title="java.util.jar.Attributes.Name">MANIFEST_VERSION</span><span class="delimiter">)</span><span class="delimiter">)</span>
							<a href="#537091" title="java.util.jar.Attributes">main</a>.<span title="(x$1: Any,x$2: Any)java.lang.Object">put</span><span class="delimiter">(</span><span title="java.util.jar.Attributes.Name">MANIFEST_VERSION</span>, <span title="java.lang.String(&quot;1.0&quot;)" class="string">&quot;1.0&quot;</span><span class="delimiter">)</span>
						<span title="(_1: java.util.jar.JarOutputStream,_2: java.lang.String)(java.util.jar.JarOutputStream, java.lang.String)" class="delimiter">(</span><span title="java.util.jar.JarOutputStream" class="keyword">new</span> <span title="java.util.jar.JarOutputStream">JarOutputStream</span><span class="delimiter">(</span><a href="#537083" title="java.io.BufferedOutputStream">fileOut</a>, <a href="#537088" title="java.util.jar.Manifest">mf</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span><span class="delimiter">)</span>
					<span class="delimiter">}</span>
					<span title="(java.util.zip.ZipOutputStream, java.lang.String)" class="keyword">case</span> <span title="object None">None</span> =&gt; <span title="(_1: java.util.zip.ZipOutputStream,_2: java.lang.String)(java.util.zip.ZipOutputStream, java.lang.String)" class="delimiter">(</span><span title="java.util.zip.ZipOutputStream" class="keyword">new</span> <span title="java.util.zip.ZipOutputStream">ZipOutputStream</span><span class="delimiter">(</span><a href="#537083" title="java.io.BufferedOutputStream">fileOut</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;zip&quot;)" class="string">&quot;zip&quot;</span><span class="delimiter">)</span>
				<span class="delimiter">}</span>
			<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#535907" title="(v1: java.util.zip.ZipOutputStream)Unit">f</a><span class="delimiter">(</span><a href="#537085" title="java.util.zip.ZipOutputStream">zipOut</a><span class="delimiter">)</span> <span class="delimiter">}</span>
			<span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#537085" title="java.util.zip.ZipOutputStream">zipOut</a>.<span title="()Unit">close</span> <span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(base: java.io.File,file: java.io.File)Option[String]" id="33448">relativize</a><span class="delimiter">(</span><a title="java.io.File" id="335106">base</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="335107">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.lang.String" id="537147">pathString</a> = <a href="#335107" title="java.io.File">file</a>.<span title="()java.lang.String">getAbsolutePath</span>
		<a href="#33449" title="(baseFile: java.io.File)Option[String]">baseFileString</a><span title="(f: (String) =&gt; Option[String])Option[String]" class="delimiter">(</span><a href="#335106" title="java.io.File">base</a><span class="delimiter">)</span> flatMap
		<span class="delimiter">{</span>
			<a title="String" id="537156">baseString</a> =&gt;
			<span class="delimiter">{</span>
				<span title="Option[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#537147" title="java.lang.String">pathString</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#537156" title="String">baseString</a><span class="delimiter">)</span><span class="delimiter">)</span>
					<span title="(x: java.lang.String)Some[java.lang.String]">Some</span><span class="delimiter">(</span><a href="#537147" title="java.lang.String">pathString</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#537156" title="String">baseString</a>.<span title="()Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
				<span class="keyword">else</span>
					<span title="object None">None</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(baseFile: java.io.File)Option[String]" id="33449">baseFileString</a><span class="delimiter">(</span><a title="java.io.File" id="537149">baseFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span title="Option[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#537149" title="java.io.File">baseFile</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="537171">cp</a> = <a href="#537149" title="java.io.File">baseFile</a>.<span title="()java.lang.String">getAbsolutePath</span>
			<span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#537171" title="java.lang.String">cp</a>.<span title="(x$1: Int)Boolean">length</span> &gt; <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="537172">normalized</a> = <span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#537171" title="java.lang.String">cp</a>.<span title="(x$1: Int)Char">charAt</span><span title="(x$1: Char)Boolean" class="delimiter">(</span><a href="#537171" title="java.lang.String">cp</a>.<span title="(x$1: Int)Int">length</span> - <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> == <span title="object java.io.File">File</span>.<span title="Char">separatorChar</span><span class="delimiter">)</span> <a href="#537171" title="java.lang.String">cp</a> <span class="keyword">else</span> <a href="#537171" title="(x$1: Any)java.lang.String">cp</a> + <span title="object java.io.File">File</span>.<span title="Char">separatorChar</span>
			<span title="(x: java.lang.String)Some[java.lang.String]">Some</span><span class="delimiter">(</span><a href="#537172" title="java.lang.String">normalized</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<span class="keyword">else</span>
			<span title="object None">None</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(sources: Traversable[(java.io.File, java.io.File)],overwrite: Boolean,preserveLastModified: Boolean)Set[java.io.File]" id="33450">copy</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, java.io.File)]" id="60742">sources</a>: <span title="Traversable[(java.io.File, java.io.File)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File,File<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="=&gt; Boolean" id="60743">overwrite</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="=&gt; Boolean" id="60744">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span> =
		<a href="#60742" title="Traversable[(java.io.File, java.io.File)]">sources</a>.<span title="(f: ((java.io.File, java.io.File)) =&gt; java.io.File)(implicit bf: scala.collection.generic.CanBuildFrom[Traversable[(java.io.File, java.io.File)],java.io.File,Traversable[java.io.File]])Traversable[java.io.File]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Traversable.Coll,java.io.File,Traversable[java.io.File]]" class="delimiter">(</span> <span title="(f: (java.io.File, java.io.File) =&gt; java.io.File)((java.io.File, java.io.File)) =&gt; java.io.File">tupled</span><span class="delimiter">(</span><a href="#33451" title="(overwrite: Boolean,preserveLastModified: Boolean)(from: java.io.File,to: java.io.File)java.io.File">copyImpl</a><a href="#537247" title="java.io.File" class="delimiter">(</a><a href="#60743" title="Boolean">overwrite</a>, <a href="#60744" title="Boolean">preserveLastModified</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[java.io.File]">toSet</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(overwrite: Boolean,preserveLastModified: Boolean)(from: java.io.File,to: java.io.File)java.io.File" id="33451">copyImpl</a><span class="delimiter">(</span><a title="Boolean" id="537240">overwrite</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="537241">preserveLastModified</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="java.io.File" id="537242">from</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="537243">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#537240" title="(x$1: Boolean)Boolean">overwrite</a> <span title="(x$1: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#537243" title="java.io.File">to</a>.<span title="()Boolean">exists</span> || <a href="#537242" title="java.io.File">from</a>.<span title="(x$1: Long)Boolean">lastModified</span> &gt; <a href="#537243" title="java.io.File">to</a>.<span title="()Long">lastModified</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#537242" title="java.io.File">from</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">)</span>
				<a href="#33406" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#537243" title="java.io.File">to</a><span class="delimiter">)</span>
			<span class="keyword">else</span>
			<span class="delimiter">{</span>
				<a href="#33406" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#537243" title="java.io.File">to</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
				<a href="#33453" title="(sourceFile: java.io.File,targetFile: java.io.File,preserveLastModified: Boolean)Unit">copyFile</a><span class="delimiter">(</span><a href="#537242" title="java.io.File">from</a>, <a href="#537243" title="java.io.File">to</a>, <a href="#537241" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
		<a href="#537243" title="java.io.File">to</a>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(source: java.io.File,target: java.io.File,overwrite: Boolean,preserveLastModified: Boolean)Unit" id="33452">copyDirectory</a><span class="delimiter">(</span><a title="java.io.File" id="537293">source</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="537294">target</a>: <span title="java.io.File">File</span>, <a title="=&gt; Boolean" id="537295">overwrite</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>, <a title="=&gt; Boolean" id="537296">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#33450" title="(sources: Traversable[(java.io.File, java.io.File)],overwrite: Boolean,preserveLastModified: Boolean)Set[java.io.File]">copy</a><span title="Unit" class="delimiter">(</span> <a href="Path.scala.html#60759" title="Boolean" id="537326" class="delimiter">(</a><a href="Path.scala.html#336077" title="(file: java.io.File)sbt.PathFinder">PathFinder</a><span class="delimiter">(</span><a href="#537293" title="java.io.File">source</a><span class="delimiter">)</span> <a href="Path.scala.html#54915" title="sbt.PathFinder" id="537312">***</a><span class="delimiter">)</span> x <a href="Path.scala.html#10555" title="object sbt.Path">Path</a>.<a href="PathMapper.scala.html#54862" title="(oldBase: java.io.File,newBase: java.io.File)(java.io.File) =&gt; Option[java.io.File]">rebase</a><a title="(java.io.File) =&gt; Option[java.io.File]" id="537325" class="delimiter">(</a><a href="#537293" title="java.io.File">source</a>, <a href="#537294" title="java.io.File">target</a><span class="delimiter">)</span>, <a href="#537295" title="Boolean">overwrite</a>, <a href="#537296" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(sourceFile: java.io.File,targetFile: java.io.File,preserveLastModified: Boolean)Unit" id="33453">copyFile</a><span class="delimiter">(</span><a title="java.io.File" id="464058">sourceFile</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="464059">targetFile</a>: <span title="java.io.File">File</span>, <a title="=&gt; Boolean" id="464060">preserveLastModified</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
	<span class="delimiter">{</span>
		<span title="(requirement: Boolean,message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><a href="#464058" title="java.io.File">sourceFile</a>.<span title="()Boolean">exists</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;Source file '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#464058" title="java.io.File">sourceFile</a>.<span title="()java.lang.String">getAbsolutePath</span> + <span title="java.lang.String(&quot;' does not exist.&quot;)" class="string">&quot;' does not exist.&quot;</span><span class="delimiter">)</span>
		<span title="(requirement: Boolean,message: =&gt; Any)Unit">require</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#464058" title="java.io.File">sourceFile</a>.<span title="()Boolean">isDirectory</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;Source file '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#464058" title="java.io.File">sourceFile</a>.<span title="()java.lang.String">getAbsolutePath</span> + <span title="java.lang.String(&quot;' is a directory.&quot;)" class="string">&quot;' is a directory.&quot;</span><span class="delimiter">)</span>
		<a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.nio.channels.FileChannel) =&gt; Unit)Unit">fileInputChannel</a><span class="delimiter">(</span><a href="#464058" title="java.io.File">sourceFile</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.nio.channels.FileChannel" id="537492">in</a> =&gt;
			<a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.nio.channels.FileChannel) =&gt; Unit)Unit">fileOutputChannel</a><span class="delimiter">(</span><a href="#464059" title="java.io.File">targetFile</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.nio.channels.FileChannel" id="537522">out</a> =&gt;
				<span class="keyword">val</span> <a title="Long" id="537523">copied</a> = <a href="#537522" title="java.nio.channels.FileChannel">out</a>.<span title="(x$1: java.nio.channels.ReadableByteChannel,x$2: Long,x$3: Long)Long">transferFrom</span><span class="delimiter">(</span><a href="#537492" title="java.nio.channels.FileChannel">in</a>, <span title="Long(0L)" class="int">0</span>, <a href="#537492" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span><span class="delimiter">)</span>
				<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#537523" title="(x$1: Long)Boolean">copied</a> != <a href="#537492" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span><span class="delimiter">)</span>
					<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="(x$1: Any)java.lang.String" class="string">&quot;Could not copy '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#464058" title="java.io.File">sourceFile</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' to '&quot;)" class="string">&quot;' to '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#464059" title="java.io.File">targetFile</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;' (&quot;)" class="string">&quot;' (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#537523" title="Long">copied</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#537492" title="java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span> + <span title="java.lang.String(&quot; bytes copied)&quot;)" class="string">&quot; bytes copied)&quot;</span><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#464060" title="Boolean">preserveLastModified</a><span class="delimiter">)</span>
			<a href="#33454" title="(sourceFile: java.io.File,targetFile: java.io.File)Boolean">copyLastModified</a><span title="Unit" class="delimiter">(</span><a href="#464058" title="java.io.File">sourceFile</a>, <a href="#464059" title="java.io.File">targetFile</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(sourceFile: java.io.File,targetFile: java.io.File)Boolean" id="33454">copyLastModified</a><span class="delimiter">(</span><a title="java.io.File" id="464066">sourceFile</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="464067">targetFile</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <a href="#464067" title="java.io.File">targetFile</a>.<span title="(x$1: Long)Boolean">setLastModified</span><span class="delimiter">(</span> <a href="#464066" title="java.io.File">sourceFile</a>.<span title="()Long">lastModified</span> <span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="=&gt; java.nio.charset.Charset" id="33455">defaultCharset</a> = <a href="#33388" title="=&gt; java.nio.charset.Charset">utf8</a>

	<span class="keyword">def</span> <a title="(file: java.io.File,content: String,charset: java.nio.charset.Charset,append: Boolean)Unit" id="33456">write</a><span class="delimiter">(</span><a title="java.io.File" id="53634">file</a>: <span title="java.io.File">File</span>, <a title="String" id="53635">content</a>: <span title="String">String</span>, <a title="=&gt; java.nio.charset.Charset" id="53636">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#33455" title="=&gt; java.nio.charset.Charset">defaultCharset</a>, <a title="=&gt; Boolean" id="53637">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#33457" title="(file: java.io.File,content: String,charset: java.nio.charset.Charset,append: Boolean)(f: (java.io.BufferedWriter) =&gt; Unit)Unit">writer</a><span class="delimiter">(</span><a href="#53634" title="java.io.File">file</a>, <a href="#53635" title="String">content</a>, <a href="#53636" title="java.nio.charset.Charset">charset</a>, <a href="#53637" title="Boolean">append</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#537565" title="java.io.BufferedWriter">_</a>.<span title="(x$1: java.lang.String)Unit">write</span><span class="delimiter">(</span><a href="#53635" title="String">content</a><span class="delimiter">)</span>  <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](file: java.io.File,content: String,charset: java.nio.charset.Charset,append: Boolean)(f: (java.io.BufferedWriter) =&gt; T)T" id="33457">writer</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33459">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="537549">file</a>: <span title="java.io.File">File</span>, <a title="String" id="537550">content</a>: <span title="String">String</span>, <a title="java.nio.charset.Charset" id="537551">charset</a>: <span title="java.nio.charset.Charset">Charset</span>, <a title="[T]Boolean" id="537552">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(java.io.BufferedWriter) =&gt; T" id="537553">f</a>: BufferedWriter =&gt; T<span class="delimiter">)</span>: <a href="#33459" title="T">T</a> =
	<span class="delimiter">{</span>
		<span title="T" class="keyword">if</span><span class="delimiter">(</span><a href="#537551" title="java.nio.charset.Charset">charset</a>.<span title="()java.nio.charset.CharsetEncoder">newEncoder</span>.<span title="(x$1: java.lang.CharSequence)Boolean">canEncode</span><span class="delimiter">(</span><a href="#537550" title="String">content</a><span class="delimiter">)</span><span class="delimiter">)</span>
			<a href="Using.scala.html#33541" title="(charset: java.nio.charset.Charset,append: Boolean)sbt.OpenFile[java.io.BufferedWriter]">fileWriter</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedWriter) =&gt; T)T" class="delimiter">(</a><a href="#537551" title="java.nio.charset.Charset">charset</a>, <a href="#537552" title="Boolean">append</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#537549" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#537553" title="(java.io.BufferedWriter) =&gt; T">f</a> <span class="delimiter">}</span>
		<span class="keyword">else</span>
			<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="(x$1: Any)java.lang.String" class="string">&quot;String cannot be encoded by charset &quot;</span> + <a href="#537551" title="java.nio.charset.Charset">charset</a>.<span title="()java.lang.String">name</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](file: java.io.File,charset: java.nio.charset.Charset)(f: (java.io.BufferedReader) =&gt; T)T" id="33460">reader</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33462">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="537717">file</a>: <span title="java.io.File">File</span>, <a title="[T]java.nio.charset.Charset" id="537718">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#33455" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(java.io.BufferedReader) =&gt; T" id="537719">f</a>: BufferedReader =&gt; T<span class="delimiter">)</span>: <a href="#33462" title="T">T</a> =
		<a href="Using.scala.html#33542" title="(charset: java.nio.charset.Charset)sbt.OpenFile[java.io.BufferedReader]">fileReader</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedReader) =&gt; T)T" class="delimiter">(</a><a href="#537718" title="java.nio.charset.Charset">charset</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#537717" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#537719" title="(java.io.BufferedReader) =&gt; T">f</a> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(file: java.io.File,charset: java.nio.charset.Charset)String" id="33463">read</a><span class="delimiter">(</span><a title="java.io.File" id="53699">file</a>: <span title="java.io.File">File</span>, <a title="=&gt; java.nio.charset.Charset" id="53700">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#33455" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="String">String</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="537766">out</a> = <span title="(x$1: Int)java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span><span class="delimiter">(</span><a href="#53699" title="java.io.File">file</a>.<span title="()Long">length</span>.<span title="=&gt; Int">toInt</span><span class="delimiter">)</span>
		<a href="#33417" title="(in: java.io.File,out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#53699" title="java.io.File">file</a>, <a href="#537766" title="java.io.ByteArrayOutputStream">out</a><span class="delimiter">)</span>
		<a href="#537766" title="java.io.ByteArrayOutputStream">out</a>.<span title="(x$1: java.lang.String)java.lang.String">toString</span><span class="delimiter">(</span><a href="#53700" title="java.nio.charset.Charset">charset</a>.<span title="()java.lang.String">name</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="comment">/** doesn't close the InputStream */</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream,charset: java.nio.charset.Charset)String" id="33464">readStream</a><span class="delimiter">(</span><a title="java.io.InputStream" id="537783">in</a>: <span title="java.io.InputStream">InputStream</span>, <a title="=&gt; java.nio.charset.Charset" id="537784">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#33455" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="String">String</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="537787">out</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span>
		<a href="#33419" title="(in: java.io.InputStream,out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#537783" title="java.io.InputStream">in</a>, <a href="#537787" title="java.io.ByteArrayOutputStream">out</a><span class="delimiter">)</span>
		<a href="#537787" title="java.io.ByteArrayOutputStream">out</a>.<span title="(x$1: java.lang.String)java.lang.String">toString</span><span class="delimiter">(</span><a href="#537784" title="java.nio.charset.Charset">charset</a>.<span title="()java.lang.String">name</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(file: java.io.File)Array[Byte]" id="33465">readBytes</a><span class="delimiter">(</span><a title="java.io.File" id="537893">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedInputStream) =&gt; Array[Byte])Array[Byte]">fileInputStream</a><span class="delimiter">(</span><a href="#537893" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#33466" title="(in: java.io.InputStream)Array[Byte]">readBytes</a><span class="delimiter">)</span>
	<span class="comment">/** doesn't close the InputStream */</span>
	<span class="keyword">def</span> <a title="(in: java.io.InputStream)Array[Byte]" id="33466">readBytes</a><span class="delimiter">(</span><a title="java.io.InputStream" id="537905">in</a>: <span title="java.io.InputStream">InputStream</span><span class="delimiter">)</span>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="java.io.ByteArrayOutputStream" id="537917">out</a> = <span title="java.io.ByteArrayOutputStream" class="keyword">new</span> <span title="java.io.ByteArrayOutputStream">ByteArrayOutputStream</span>
		<a href="#33419" title="(in: java.io.InputStream,out: java.io.OutputStream)Unit">transfer</a><span class="delimiter">(</span><a href="#537905" title="java.io.InputStream">in</a>, <a href="#537917" title="java.io.ByteArrayOutputStream">out</a><span class="delimiter">)</span>
		<a href="#537917" title="java.io.ByteArrayOutputStream">out</a>.<span title="()Array[Byte]">toByteArray</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(file: java.io.File,content: String,charset: java.nio.charset.Charset)Unit" id="33467">append</a><span class="delimiter">(</span><a title="java.io.File" id="537928">file</a>: <span title="java.io.File">File</span>, <a title="String" id="537929">content</a>: <span title="String">String</span>, <a title="=&gt; java.nio.charset.Charset" id="537930">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#33455" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#33456" title="(file: java.io.File,content: String,charset: java.nio.charset.Charset,append: Boolean)Unit">write</a><span class="delimiter">(</span><a href="#537928" title="java.io.File">file</a>, <a href="#537929" title="String">content</a>, <a href="#537930" title="java.nio.charset.Charset">charset</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(file: java.io.File,bytes: Array[Byte])Unit" id="33468">append</a><span class="delimiter">(</span><a title="java.io.File" id="537937">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="537938">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#33470" title="(file: java.io.File,bytes: Array[Byte],append: Boolean)Unit">writeBytes</a><span class="delimiter">(</span><a href="#537937" title="java.io.File">file</a>, <a href="#537938" title="Array[Byte]">bytes</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(file: java.io.File,bytes: Array[Byte])Unit" id="33469">write</a><span class="delimiter">(</span><a title="java.io.File" id="53631">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="53632">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#33470" title="(file: java.io.File,bytes: Array[Byte],append: Boolean)Unit">writeBytes</a><span class="delimiter">(</span><a href="#53631" title="java.io.File">file</a>, <a href="#53632" title="Array[Byte]">bytes</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(file: java.io.File,bytes: Array[Byte],append: Boolean)Unit" id="33470">writeBytes</a><span class="delimiter">(</span><a title="java.io.File" id="537940">file</a>: <span title="java.io.File">File</span>, <a title="Array[Byte]" id="537941">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="Boolean" id="537942">append</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Using.scala.html#33536" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedOutputStream) =&gt; Unit)Unit" class="delimiter">(</a><a href="#537942" title="Boolean">append</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#537940" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#537955" title="java.io.BufferedOutputStream">_</a>.<span title="(x$1: Array[Byte])Unit">write</span><span class="delimiter">(</span><a href="#537941" title="Array[Byte]">bytes</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(url: java.net.URL,charset: java.nio.charset.Charset)List[String]" id="33471">readLinesURL</a><span class="delimiter">(</span><a title="java.net.URL" id="336740">url</a>: <span title="java.net.URL">URL</span>, <a title="=&gt; java.nio.charset.Charset" id="336741">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#33455" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="Using.scala.html#33543" title="(charset: java.nio.charset.Charset)sbt.Using[java.net.URL,java.io.BufferedReader]">urlReader</a><a href="Using.scala.html#51052" title="(src: java.net.URL)(f: (java.io.BufferedReader) =&gt; List[String])List[String]" class="delimiter">(</a><a href="#336741" title="java.nio.charset.Charset">charset</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#336740" title="java.net.URL">url</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#33473" title="(in: java.io.BufferedReader)List[String]">readLines</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(file: java.io.File,charset: java.nio.charset.Charset)List[String]" id="33472">readLines</a><span class="delimiter">(</span><a title="java.io.File" id="253820">file</a>: <span title="java.io.File">File</span>, <a title="=&gt; java.nio.charset.Charset" id="253821">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#33455" title="=&gt; java.nio.charset.Charset">defaultCharset</a><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
		<a href="Using.scala.html#33542" title="(charset: java.nio.charset.Charset)sbt.OpenFile[java.io.BufferedReader]">fileReader</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedReader) =&gt; List[String])List[String]" class="delimiter">(</a><a href="#253821" title="java.nio.charset.Charset">charset</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#253820" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#33473" title="(in: java.io.BufferedReader)List[String]">readLines</a><span class="delimiter">)</span>
		
	<span class="keyword">def</span> <a title="(in: java.io.BufferedReader)List[String]" id="33473">readLines</a><span class="delimiter">(</span><a title="java.io.BufferedReader" id="253796">in</a>: <span title="java.io.BufferedReader">BufferedReader</span><span class="delimiter">)</span>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = 
		<a href="#33475" title="[T](in: java.io.BufferedReader,init: T)(f: (T, String) =&gt; T)T">foldLines</a><span title="(in: java.io.BufferedReader,init: List[String])(f: (List[String], String) =&gt; List[String])List[String]" class="delimiter">[</span><span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#253796" title="java.io.BufferedReader">in</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="List[String]" id="538166">accum</a>, <a title="String" id="538167">line</a><span class="delimiter">)</span> =&gt; <a href="#538167" title="String">line</a> <a href="#538168" title="String">::</a> <a href="#538166" title="(x: String)List[String]">accum</a> <span class="delimiter">)</span>.<span title="=&gt; List[String]">reverse</span>
	
	<span class="keyword">def</span> <a title="(in: java.io.BufferedReader)(f: (String) =&gt; Unit)Unit" id="33474">foreachLine</a><span class="delimiter">(</span><a title="java.io.BufferedReader" id="538202">in</a>: <span title="java.io.BufferedReader">BufferedReader</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(String) =&gt; Unit" id="538203">f</a>: String =&gt; Unit<span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#33475" title="(in: java.io.BufferedReader,init: Unit)(f: (Unit, String) =&gt; Unit)Unit">foldLines</a><span class="delimiter">(</span><a href="#538202" title="java.io.BufferedReader">in</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="Unit" id="538216">_</a>, <a title="String" id="538217">line</a><span class="delimiter">)</span> =&gt; <a href="#538203" title="(v1: String)Unit">f</a><span class="delimiter">(</span><a href="#538217" title="String">line</a><span class="delimiter">)</span> <span class="delimiter">)</span>
		
	<span class="keyword">def</span> <a title="[T](in: java.io.BufferedReader,init: T)(f: (T, String) =&gt; T)T" id="33475">foldLines</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33477">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.BufferedReader" id="538133">in</a>: <span title="java.io.BufferedReader">BufferedReader</span>, <a title="T" id="538134">init</a>: <a href="#33477" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(T, String) =&gt; T" id="538135">f</a>: <span class="delimiter">(</span>T, String<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <a href="#33477" title="T">T</a> =
	<span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="(accum: T)T" id="538221">readLine</a><span class="delimiter">(</span><a title="T" id="538222">accum</a>: <a href="#33477" title="T">T</a><span class="delimiter">)</span>: <a href="#33477" title="T">T</a> =
		<span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="java.lang.String" id="538223">line</a> = <a href="#538133" title="java.io.BufferedReader">in</a>.<span title="()java.lang.String">readLine</span><span class="delimiter">(</span><span class="delimiter">)</span>
			<span title="T" class="keyword">if</span><span class="delimiter">(</span><a href="#538223" title="(x$1: AnyRef)Boolean">line</a> eq <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#538222" title="T">accum</a> <span class="keyword">else</span> <a href="#538221" title="(accum: T)T">readLine</a><span class="delimiter">(</span><a href="#538135" title="(v1: T,v2: String)T">f</a><span class="delimiter">(</span><a href="#538222" title="T">accum</a>, <a href="#538223" title="java.lang.String">line</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		<a href="#538221" title="(accum: T)T">readLine</a><span class="delimiter">(</span><a href="#538134" title="T">init</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	
	<span class="keyword">def</span> <a title="(file: java.io.File,lines: Seq[String],charset: java.nio.charset.Charset,append: Boolean)Unit" id="33478">writeLines</a><span class="delimiter">(</span><a title="java.io.File" id="298931">file</a>: <span title="java.io.File">File</span>, <a title="Seq[String]" id="298932">lines</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="=&gt; java.nio.charset.Charset" id="298933">charset</a>: <span title="java.nio.charset.Charset">Charset</span> = <a href="#33455" title="=&gt; java.nio.charset.Charset">defaultCharset</a>, <a title="=&gt; Boolean" id="298934">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#33457" title="(file: java.io.File,content: String,charset: java.nio.charset.Charset,append: Boolean)(f: (java.io.BufferedWriter) =&gt; Unit)Unit">writer</a><span class="delimiter">(</span><a href="#298931" title="java.io.File">file</a>, <a href="#298932" title="Seq[String]">lines</a>.<span title="=&gt; Option[String]">headOption</span>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>, <a href="#298933" title="java.nio.charset.Charset">charset</a>, <a href="#298934" title="Boolean">append</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedWriter" id="538244">w</a> =&gt;
			<a href="#298932" title="Seq[String]">lines</a>.<span title="(f: (String) =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="538259">line</a> =&gt; <a href="#538244" title="java.io.BufferedWriter">w</a>.<span title="(x$1: java.lang.String)Unit">write</span><span class="delimiter">(</span><a href="#538259" title="String">line</a><span class="delimiter">)</span>; <a href="#538244" title="java.io.BufferedWriter">w</a>.<span title="()Unit">newLine</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
		<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(writer: java.io.PrintWriter,lines: Seq[String])Unit" id="33479">writeLines</a><span class="delimiter">(</span><a title="java.io.PrintWriter" id="298928">writer</a>: <span title="java.io.PrintWriter">PrintWriter</span>, <a title="Seq[String]" id="298929">lines</a>: <span title="Seq[String]">Seq</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#298929" title="(f: (String) =&gt; Unit)Unit">lines</a> foreach <a href="#298928" title="java.io.PrintWriter">writer</a>.<a href="#538285" title="(x$1: java.lang.String)Unit">println</a>
		
	<span class="keyword">def</span> <a title="(properties: java.util.Properties,label: String,to: java.io.File)Unit" id="33480">write</a><span class="delimiter">(</span><a title="java.util.Properties" id="53369">properties</a>: <span title="java.util.Properties">Properties</span>, <a title="String" id="53370">label</a>: <span title="String">String</span>, <a title="java.io.File" id="53371">to</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> =
		<a href="Using.scala.html#33536" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedOutputStream) =&gt; Unit)Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#53371" title="java.io.File">to</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="53383">output</a> =&gt; <a href="#53369" title="java.util.Properties">properties</a>.<span title="(x$1: java.io.OutputStream,x$2: java.lang.String)Unit">store</span><span class="delimiter">(</span><a href="#53383" title="java.io.BufferedOutputStream">output</a>, <a href="#53370" title="String">label</a><span class="delimiter">)</span> <span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(properties: java.util.Properties,from: java.io.File)Unit" id="33481">load</a><span class="delimiter">(</span><a title="java.util.Properties" id="199369">properties</a>: <span title="java.util.Properties">Properties</span>, <a title="java.io.File" id="199370">from</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#199370" title="java.io.File">from</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span>
			<a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedInputStream) =&gt; Unit)Unit">fileInputStream</a><span class="delimiter">(</span><a href="#199370" title="java.io.File">from</a><span class="delimiter">)</span><span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="538302">input</a> =&gt; <a href="#199369" title="java.util.Properties">properties</a>.<span title="(x$1: java.io.InputStream)Unit">load</span><span class="delimiter">(</span><a href="#538302" title="java.io.BufferedInputStream">input</a><span class="delimiter">)</span> <span class="delimiter">}</span>

	<span class="comment">/** A pattern used to split a String by path separator characters.*/</span>
	<span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.regex.Pattern" id="33482">PathSeparatorPattern</a> = java.util.regex.<span title="object java.util.regex.Pattern">Pattern</span>.<span title="(x$1: java.lang.String)java.util.regex.Pattern">compile</span><span class="delimiter">(</span><span title="object java.io.File">File</span>.<span title="java.lang.String">pathSeparator</span><span class="delimiter">)</span>

	<span class="comment">/** Splits a String around path separator characters. */</span>
	<span class="keyword">def</span> <a title="(s: String)Array[java.lang.String]" id="33484">pathSplit</a><span class="delimiter">(</span><a title="String" id="58656">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#33482" title="=&gt; java.util.regex.Pattern">PathSeparatorPattern</a>.<span title="(x$1: java.lang.CharSequence)Array[java.lang.String]">split</span><span class="delimiter">(</span><a href="#58656" title="String">s</a><span class="delimiter">)</span>

	<span class="comment">/** Move the provided files to a temporary location.
	*   If 'f' returns normally, delete the files.
	*   If 'f' throws an Exception, return the files to their original location.*/</span>
	<span class="keyword">def</span> <a title="[T](files: Set[java.io.File])(f: =&gt; T)T" id="33485">stash</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33487">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Set[java.io.File]" id="538311">files</a>: <span title="Set[java.io.File]">Set</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="538312">f</a>: =&gt; T<span class="delimiter">)</span>: <a href="#33487" title="T">T</a> =
		<a href="#33422" title="(action: (java.io.File) =&gt; T)T">withTemporaryDirectory</a> <span class="delimiter">{</span> <a title="java.io.File" id="538318">dir</a> =&gt;
			<span class="keyword">val</span> <a title="Array[(java.io.File, java.io.File)]" id="538319">stashed</a> = <a href="#33488" title="(dir: java.io.File,files: Array[java.io.File])Array[(java.io.File, java.io.File)]">stashLocations</a><span class="delimiter">(</span><a href="#538318" title="java.io.File">dir</a>, <a href="#538311" title="Set[java.io.File]">files</a>.<span title="(implicit evidence$1: ClassManifest[java.io.File])Array[java.io.File]">toArray</span><span class="delimiter">)</span>
			<a href="#33489" title="(files: Traversable[(java.io.File, java.io.File)])Unit">move</a><span class="delimiter">(</span><a href="#538319" title="(xs: Array[(java.io.File, java.io.File)])scala.collection.mutable.WrappedArray[(java.io.File, java.io.File)]">stashed</a><span class="delimiter">)</span>

			<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#538312" title="=&gt; T">f</a> <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span title="T" class="keyword">case</span> <a title="Exception" id="539824">e</a>: <span title="Exception">Exception</span> =&gt;
				<span class="keyword">try</span> <span class="delimiter">{</span> <a href="#33489" title="(files: Traversable[(java.io.File, java.io.File)])Unit">move</a><span class="delimiter">(</span><a href="#538319" title="(xs: Array[(java.io.File, java.io.File)])scala.collection.mutable.ArrayOps[(java.io.File, java.io.File)]">stashed</a>.<span title="(f: ((java.io.File, java.io.File)) =&gt; (java.io.File, java.io.File))(implicit bf: scala.collection.generic.CanBuildFrom[Array[(java.io.File, java.io.File)],(java.io.File, java.io.File),Traversable[(java.io.File, java.io.File)]])Traversable[(java.io.File, java.io.File)]">map</span><span title="(implicit m: DummyImplicit)scala.collection.generic.CanBuildFrom[Array[_],(java.io.File, java.io.File),scala.collection.mutable.ArraySeq[(java.io.File, java.io.File)]]" class="delimiter">(</span><a href="#540256" title="(java.io.File, java.io.File)">_</a>.<span title="=&gt; (java.io.File, java.io.File)">swap</span><span class="delimiter">)</span><span class="delimiter">)</span>; <span title="Nothing" class="keyword">throw</span> <a href="#539824" title="Exception">e</a> <span class="delimiter">}</span>
				<span class="keyword">catch</span> <span class="delimiter">{</span> <span title="Nothing" class="keyword">case</span> _: <span title="Exception">Exception</span> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#539824" title="Exception">e</a> <span class="delimiter">}</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>

	<span class="keyword">private</span> <span class="keyword">def</span> <a title="(dir: java.io.File,files: Array[java.io.File])Array[(java.io.File, java.io.File)]" id="33488">stashLocations</a><span class="delimiter">(</span><a title="java.io.File" id="538320">dir</a>: <span title="java.io.File">File</span>, <a title="Array[java.io.File]" id="538321">files</a>: <span title="Array[java.io.File]">Array</span><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> =
		<span class="keyword">for</span><span class="delimiter">(</span> <span class="delimiter">(</span><a title="java.io.File" id="539555">file</a>, <a title="Int" id="539556">index</a><span class="delimiter">)</span> &lt;- <a href="#538321" title="(xs: Array[java.io.File])scala.collection.mutable.ArrayOps[java.io.File]">files</a>.<a href="#539155" title="(f: ((java.io.File, Int)) =&gt; (java.io.File, java.io.File))(implicit bf: scala.collection.generic.CanBuildFrom[Array[(java.io.File, Int)],(java.io.File, java.io.File),Array[(java.io.File, java.io.File)]])Array[(java.io.File, java.io.File)]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span>
			<span title="(_1: java.io.File,_2: java.io.File)(java.io.File, java.io.File)" class="delimiter">(</span><a href="#539555" title="java.io.File">file</a>, <span title="(x$1: java.io.File,x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#538320" title="java.io.File">dir</a>, <a href="#539556" title="implicit scala.Predef.intWrapper : (x: Int)scala.runtime.RichInt">index</a>.<span title="=&gt; String">toHexString</span><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(files: Traversable[(java.io.File, java.io.File)])Unit" id="33489">move</a><span class="delimiter">(</span><a title="Traversable[(java.io.File, java.io.File)]" id="297133">files</a>: <span title="Traversable[(java.io.File, java.io.File)]">Traversable</span><span class="delimiter">[</span><span class="delimiter">(</span>File, File<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="#297133" title="Traversable[(java.io.File, java.io.File)]">files</a>.<span title="(f: ((java.io.File, java.io.File)) =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><span title="object Function">Function</span>.<span title="(f: (java.io.File, java.io.File) =&gt; Unit)((java.io.File, java.io.File)) =&gt; Unit">tupled</span><span class="delimiter">(</span><a href="#33490" title="(a: java.io.File,b: java.io.File)Unit">move</a><span class="delimiter">)</span><span class="delimiter">)</span>
		
	<span class="keyword">def</span> <a title="(a: java.io.File,b: java.io.File)Unit" id="33490">move</a><span class="delimiter">(</span><a title="java.io.File" id="297130">a</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="297131">b</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
	<span class="delimiter">{</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#297131" title="java.io.File">b</a>.<span title="()Boolean">exists</span><span class="delimiter">)</span>
			<a href="#33432" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#297131" title="java.io.File">b</a><span class="delimiter">)</span>
		<a href="#33406" title="(dir: java.io.File)Unit">createDirectory</a><span class="delimiter">(</span><a href="#297131" title="java.io.File">b</a>.<span title="()java.io.File">getParentFile</span><span class="delimiter">)</span>
		<span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#297130" title="java.io.File">a</a>.<span title="(x$1: java.io.File)Boolean">renameTo</span><span class="delimiter">(</span><a href="#297131" title="java.io.File">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<span class="delimiter">{</span>
			<a href="#33453" title="(sourceFile: java.io.File,targetFile: java.io.File,preserveLastModified: Boolean)Unit">copyFile</a><span class="delimiter">(</span><a href="#297130" title="java.io.File">a</a>, <a href="#297131" title="java.io.File">b</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
			<a href="#33432" title="(file: java.io.File)Unit">delete</a><span class="delimiter">(</span><a href="#297130" title="java.io.File">a</a><span class="delimiter">)</span>
		<span class="delimiter">}</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](file: java.io.File)(f: (java.io.OutputStream) =&gt; T)T" id="33491">gzipFileOut</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33493">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="191519">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(java.io.OutputStream) =&gt; T" id="191520">f</a>: OutputStream =&gt; T<span class="delimiter">)</span>: <a href="#33493" title="T">T</a> =
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#33536" title="(append: Boolean)sbt.OpenFile[java.io.BufferedOutputStream]">fileOutputStream</a><a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedOutputStream) =&gt; T)T" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#191519" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedOutputStream" id="540369">fout</a> =&gt;
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#51052" title="(src: java.io.OutputStream)(f: (java.util.zip.GZIPOutputStream) =&gt; T)T">gzipOutputStream</a><span class="delimiter">(</span><a href="#540369" title="java.io.BufferedOutputStream">fout</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPOutputStream" id="540378">outg</a> =&gt;
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#51052" title="(src: java.io.OutputStream)(f: (java.io.BufferedOutputStream) =&gt; T)T">bufferedOutputStream</a><span class="delimiter">(</span><a href="#540378" title="java.util.zip.GZIPOutputStream">outg</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#191520" title="(java.io.OutputStream) =&gt; T">f</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](file: java.io.File)(f: (java.io.InputStream) =&gt; T)T" id="33494">gzipFileIn</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="33496">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="java.io.File" id="192370">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(java.io.InputStream) =&gt; T" id="192371">f</a>: InputStream =&gt; T<span class="delimiter">)</span>: <a href="#33496" title="T">T</a> =
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#51052" title="(src: java.io.File)(f: (java.io.BufferedInputStream) =&gt; T)T">fileInputStream</a><span class="delimiter">(</span><a href="#192370" title="java.io.File">file</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.io.BufferedInputStream" id="540490">fin</a> =&gt;
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#51052" title="(src: java.io.InputStream)(f: (java.util.zip.GZIPInputStream) =&gt; T)T">gzipInputStream</a><span class="delimiter">(</span><a href="#540490" title="java.io.BufferedInputStream">fin</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="java.util.zip.GZIPInputStream" id="540499">ing</a> =&gt;
		<a href="Using.scala.html#10762" title="object sbt.Using">Using</a>.<a href="Using.scala.html#51052" title="(src: java.io.InputStream)(f: (java.io.BufferedInputStream) =&gt; T)T">bufferedInputStream</a><span class="delimiter">(</span><a href="#540499" title="java.util.zip.GZIPInputStream">ing</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#192371" title="(java.io.InputStream) =&gt; T">f</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">}</span>
	
	<span class="comment">/** Converts an absolute File to a URI.  The File is converted to a URI (toURI),
	* normalized (normalize), encoded (toASCIIString), and a forward slash ('/') is appended to the path component if
	* it does not already end with a slash.
	*/</span>
	<span class="keyword">def</span> <a title="(dir: java.io.File)java.net.URI" id="33497">directoryURI</a><span class="delimiter">(</span><a title="java.io.File" id="333968">dir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.net.URI">URI</span>  =
	<span class="delimiter">{</span>
		<a href="#33501" title="(f: java.io.File)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#333968" title="java.io.File">dir</a><span class="delimiter">)</span>
		<a href="#33498" title="(uri: java.net.URI)java.net.URI">directoryURI</a><span class="delimiter">(</span><a href="#333968" title="java.io.File">dir</a>.<span title="()java.net.URI">toURI</span>.<span title="()java.net.URI">normalize</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="comment">/** Converts an absolute File to a URI.  The File is converted to a URI (toURI),
	* normalized (normalize), encoded (toASCIIString), and a forward slash ('/') is appended to the path component if
	* it does not already end with a slash.
	*/</span>
	<span class="keyword">def</span> <a title="(uri: java.net.URI)java.net.URI" id="33498">directoryURI</a><span class="delimiter">(</span><a title="java.net.URI" id="333966">uri</a>: <span title="java.net.URI">URI</span><span class="delimiter">)</span>: <span title="java.net.URI">URI</span> =
	<span class="delimiter">{</span>
		<a href="#33502" title="(uri: java.net.URI)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#333966" title="java.net.URI">uri</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="java.lang.String" id="540594">str</a> = <a href="#333966" title="java.net.URI">uri</a>.<span title="()java.lang.String">toASCIIString</span>
		<span class="keyword">val</span> <a title="java.lang.String" id="540595">dirStr</a> = <span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#540594" title="java.lang.String">str</a>.<span title="(x$1: java.lang.String)Boolean">endsWith</span><span title="(x$1: Boolean)Boolean" class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span> || <a href="#333966" title="java.net.URI">uri</a>.<span title="(x$1: AnyRef)Boolean">getScheme</span> != <span title="java.lang.String(&quot;file&quot;)" class="string">&quot;file&quot;</span><span class="delimiter">)</span> <a href="#540594" title="java.lang.String">str</a> <span class="keyword">else</span> <a href="#540594" title="(x$1: Any)java.lang.String">str</a> + <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>
		<span class="delimiter">(</span><span title="java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><a href="#540595" title="java.lang.String">dirStr</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="()java.net.URI">normalize</span>
	<span class="delimiter">}</span>
	<span class="comment">/** Converts the given File to a URI.  If the File is relative, the URI is relative, unlike File.toURI*/</span>
	<span class="keyword">def</span> <a title="(f: java.io.File)java.net.URI" id="33499">toURI</a><span class="delimiter">(</span><a title="java.io.File" id="357326">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.net.URI">URI</span>  =  <span title="java.net.URI" class="keyword">if</span><span class="delimiter">(</span><a href="#357326" title="java.io.File">f</a>.<span title="()Boolean">isAbsolute</span><span class="delimiter">)</span> <a href="#357326" title="java.io.File">f</a>.<span title="()java.net.URI">toURI</span> <span class="keyword">else</span> <span title="java.net.URI" class="keyword">new</span> <span title="java.net.URI">URI</span><span class="delimiter">(</span><a href="#357326" title="java.io.File">f</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(base: java.io.File,f: java.io.File)java.io.File" id="33500">resolve</a><span class="delimiter">(</span><a title="java.io.File" id="335496">base</a>: <span title="java.io.File">File</span>, <a title="java.io.File" id="335497">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.io.File">File</span>  =
	<span class="delimiter">{</span>
		<a href="#33501" title="(f: java.io.File)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#335496" title="java.io.File">base</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="java.io.File" id="540623">fabs</a> = <span title="java.io.File" class="keyword">if</span><span class="delimiter">(</span><a href="#335497" title="java.io.File">f</a>.<span title="()Boolean">isAbsolute</span><span class="delimiter">)</span> <a href="#335497" title="java.io.File">f</a> <span class="keyword">else</span> <span title="(x$1: java.net.URI)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#33497" title="(dir: java.io.File)java.net.URI">directoryURI</a><span class="delimiter">(</span><span title="(x$1: java.io.File,x$2: java.lang.String)java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#335496" title="java.io.File">base</a>, <a href="#335497" title="java.io.File">f</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
		<a href="#33501" title="(f: java.io.File)Unit">assertAbsolute</a><span class="delimiter">(</span><a href="#540623" title="java.io.File">fabs</a><span class="delimiter">)</span>
		<a href="#540623" title="java.io.File">fabs</a>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(f: java.io.File)Unit" id="33501">assertAbsolute</a><span class="delimiter">(</span><a title="java.io.File" id="334082">f</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#334082" title="java.io.File">f</a>.<span title="()Boolean">isAbsolute</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;Not absolute: &quot;</span> + <a href="#334082" title="java.io.File">f</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(uri: java.net.URI)Unit" id="33502">assertAbsolute</a><span class="delimiter">(</span><a title="java.net.URI" id="333979">uri</a>: <span title="java.net.URI">URI</span><span class="delimiter">)</span> = <span title="(assertion: Boolean,message: =&gt; Any)Unit">assert</span><span class="delimiter">(</span><a href="#333979" title="java.net.URI">uri</a>.<span title="()Boolean">isAbsolute</span>, <span title="(x$1: Any)java.lang.String" class="string">&quot;Not absolute: &quot;</span> + <a href="#333979" title="java.net.URI">uri</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>